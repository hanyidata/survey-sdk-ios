!function(){var e,t,i,n,r={8703:function(e,t,i){var n=i(9953);(n="string"==typeof(n=n.__esModule?n.default:n)?[[e.id,n,""]]:n).locals&&(e.exports=n.locals),(0,i(56).Z)("8397ded8",n,!0,{sourceMap:!1,shadowMode:!1})},4432:function(e,t,i){"use strict";var n=i(686),r=(i(6992),i(8674),i(9601),i(7727),i(5827),i(1539),i(3948),i(4916),i(5306),i(657)),o={keys:function(){return[]}},a=(i.g.____D900E30____=!0,delete i.g.____D900E30____,i.g.__uniConfig={globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"uni-app",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8"},condition:{current:0,list:[{name:"",path:"",query:""}]}},i.g.__uniConfig.compilerVersion="3.7.9",i.g.__uniConfig.darkmode=!1,i.g.__uniConfig.themeConfig={},i.g.__uniConfig.uniPlatform="h5",i.g.__uniConfig.appId="__UNI__D900E30",i.g.__uniConfig.appName="survey-ui-next-uni2",i.g.__uniConfig.appVersion="1.0.0",i.g.__uniConfig.appVersionCode="100",i.g.__uniConfig.router={mode:"hash",base:"./"},i.g.__uniConfig.publicPath="./",i.g.__uniConfig.async={loading:"AsyncLoading",error:"AsyncError",delay:200,timeout:6e4},i.g.__uniConfig.debug=!1,i.g.__uniConfig.networkTimeout={request:6e4,connectSocket:6e4,uploadFile:6e4,downloadFile:6e4},i.g.__uniConfig.sdkConfigs={},i.g.__uniConfig.qqMapKey=void 0,i.g.__uniConfig.googleMapKey=void 0,i.g.__uniConfig.aMapKey=void 0,i.g.__uniConfig.aMapSecurityJsCode=void 0,i.g.__uniConfig.aMapServiceHost=void 0,i.g.__uniConfig.locale="zh-Hans",i.g.__uniConfig.fallbackLocale=void 0,i.g.__uniConfig.locales=o.keys().reduce((function(e,t){var i=t.replace(/\.\/(uni-app.)?(.*).json/,"$2");t=o(t);return Object.assign(e[i]||(e[i]={}),t.common||t),e}),{}),i.g.__uniConfig.nvue={"flex-direction":"column"},i.g.__uniConfig.__webpack_chunk_load__=i.e,r.default.component("pages-index",(function(e){var t={component:Promise.all([i.e(8),i.e(769)]).then(function(){return e(i(1772))}.bind(null,i)).catch(i.oe),delay:__uniConfig.async.delay,timeout:__uniConfig.async.timeout};return __uniConfig.async.loading&&(t.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig.async.loading)}}),__uniConfig.async.error&&(t.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig.async.error)}}),t})),r.default.component("pages-popup",(function(e){var t={component:Promise.all([i.e(8),i.e(468)]).then(function(){return e(i(7694))}.bind(null,i)).catch(i.oe),delay:__uniConfig.async.delay,timeout:__uniConfig.async.timeout};return __uniConfig.async.loading&&(t.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig.async.loading)}}),__uniConfig.async.error&&(t.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig.async.error)}}),t})),r.default.component("pages-bridge",(function(e){var t={component:Promise.all([i.e(8),i.e(759)]).then(function(){return e(i(2460))}.bind(null,i)).catch(i.oe),delay:__uniConfig.async.delay,timeout:__uniConfig.async.timeout};return __uniConfig.async.loading&&(t.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig.async.loading)}}),__uniConfig.async.error&&(t.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig.async.error)}}),t})),i.g.__uniRoutes=[{path:"/",alias:"/pages/index",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isEntry:!0},__uniConfig.globalStyle,{navigationStyle:"custom"})},[e("pages-index",{slot:"page"})])}},meta:{id:1,name:"pages-index",isNVue:!1,maxWidth:0,pagePath:"pages/index",isQuit:!0,isEntry:!0,windowTop:0}},{path:"/pages/popup",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationStyle:"custom"})},[e("pages-popup",{slot:"page"})])}},meta:{name:"pages-popup",isNVue:!1,maxWidth:0,pagePath:"pages/popup",windowTop:0}},{path:"/pages/bridge",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationStyle:"custom"})},[e("pages-bridge",{slot:"page"})])}},meta:{name:"pages-bridge",isNVue:!1,maxWidth:0,pagePath:"pages/bridge",windowTop:0}},{path:"/choose-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-choose-location",{slot:"page"})])}},meta:{name:"choose-location",pagePath:"/choose-location"}},{path:"/open-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-open-location",{slot:"page"})])}},meta:{name:"open-location",pagePath:"/open-location"}}],i.g.UniApp&&new i.g.UniApp,i(9526),i(2502)),s={onLaunch:function(){var e="https://www.xmplus.cn/api/survey";console.debug("App Launch with env "+e),(0,a.z)(this,{},e)},onShow:function(){console.debug("App Show")},onHide:function(){console.debug("App Hide")}},l=(s=(i(8703),(0,i(9453).Z)(s,(function(){var e=this.$createElement;return(this._self._c||e)("App",{attrs:{keepAliveInclude:this.keepAliveInclude}})}),[],!1,null,null,null,!1,void 0,void 0).exports),i(2789),i(215));window.ResizeObserver||(0,l.N9)(),r.default.config.productionTip=!1,s.mpType="app",new r.default((0,n.Z)({},s)).$mount()},6754:function(e,t,i){e=i.nmd(e);var n=i(3492).default,r=i(424).default,o=i(5328).default,a=i(2217).default,s=i(7217).default,l=i(5123).default,u=i(6703).default,c=i(5258).default,h=i(3484).default,d=i(6587).default;i(1550),i(9070),i(4916),i(7601),i(1539),i(5827),i(9720),i(2222),i(6647),i(9714),i(7327),i(7658),i(2481),i(189),i(8783),i(3948),i(1038),i(6699),i(2023),i(541),i(7941),i(2526),i(5003),i(4747),i(9337),i(3321),i(5306),i(1249),i(6755),i(7852),i(1058),i(1817),i(3680),i(3706),i(2703),i(6649),i(6078),i(9653),i(1703),i(4553),i(2772),i(2479),i(8862),i(7042),i(2707),i(561),i(6373),i(4603),i(8450),i(8386),i(9826),self,i=function(){return t={551:function(e){function t(e){var r=n[e];return void 0===r&&(r=n[e]={exports:{}},i[e](r,r.exports,t)),r.exports}var i,n;self,e.exports=(i={799:function(e,t,i){"use strict";i.d(t,{Z:function(){return B}});var n=/<[^>]*>/g,r={ANY:"ANY",ANY_VAR:"ANY_VAR",ANY_OPERATOR:"ANY_OPERATOR",ASSIGN:"ASS",EOF:"EOF",STR:"STR",NUM:"NUM",ADD:"ADD",SUB:"SUB",MUL:"MUL",DIV:"DIV",EQ:"EQ",NEQ:"NEQ",ID:"ID",DOT:"DOT",COMMA:"COMMA",LPAREN:"LPAREN",RPAREN:"RPAREN",LBRACKET:"LBRACKET",RBRACKET:"RBRACKET",AND:"AND",OR:"OR",GT:"GT",GTE:"GTE",LT:"LT",LTE:"LTE",NOT:"NOT",IGT:"IGT",IGTE:"IGTE",ILT:"ILT",ILTE:"ILTE"},o={ANY:"ANY",EXP:"EXP",VAR:"VAR",OP:"OP",MEM:"MEM",MFUN:"MFUN",LOGIC:"LOGIC",ARRAY:"ARRAY",GROUP:"GROUP"},a="LEFT",s="RIGHT",l="syntax error";function p(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var g=[r.ADD,r.SUB,r.MUL,r.DIV,r.EQ,r.NEQ,r.GT,r.LT,r.GTE,r.LTE,r.IGT,r.ILT,r.IGTE,r.ILTE],f=[r.NUM,r.ID,r.STR],v=function(){function e(t,i){c(this,e),p(this,"type",void 0),p(this,"value",void 0),this.type=t,this.value=i}return h(e,[{key:"test",value:function(e){return e==r.ANY||(e==r.ANY_OPERATOR?this.testAny(g):e==r.ANY_VAR?this.testAny(f):this.type===e)}},{key:"testAny",value:function(e){for(var t=!1,i=0;i<e.length;i++){var n=e[i];if(this.test(n)){t=!0;break}}return t}},{key:"equal",value:function(e){return this.type===e.type&&this.value===e.value}}]),e}();function m(e,t){return!e&&!t||!(!e||!t)&&d(e)==d(t)&&(Array.isArray(e)||Array.isArray(t)?e.length===t.length&&e.every((function(e,i){return e===t[i]})):e===t)}function y(e){return/[0-9]/i.test(e)}function b(e){return Object.entries(e).reduce((function(e,t){var i=u(t,2);t=i[0],i=i[1];return e[i]=(e[i]||"").concat(t),e}),{})}function x(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}v.prototype.toString=function(){return"".concat(this.type," - ").concat(this.value)};var k=b(r),w=b(o),_=function(){function e(t,i){c(this,e);var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;x(this,"owner",void 0),x(this,"name",void 0),x(this,"type",void 0),x(this,"token",void 0),x(this,"childs",[]),this.name=n,this.type=t,this.token=i}return h(e,[{key:"left",get:function(){var e;return this.childs&&0!==this.childs.length&&(e=this.childs.filter((function(e){return e.name===a})))&&0<e.length?e[0]:null}},{key:"operator",get:function(){return this.token?this.token.value:null}},{key:"right",get:function(){var e;return this.childs&&0!==this.childs.length&&(e=this.childs.filter((function(e){return e.name===s})))&&0<e.length?e[0]:null}},{key:"add",value:function(e){this.childs.push(e)}},{key:"addAll",value:function(e){for(var t=0;t<e.length;t++){var i=e[t];this.childs.push(i)}}},{key:"equal",value:function(e){if(this.name!=e.name)return!1;if(this.type!=e.type)return!1;if(this.owner!=e.owner)return!1;if(!this.token.equal(e.token))return!1;if(this.childs.length!=e.childs.length)return!1;for(var t=0;t<this.childs.length;t++)if(!this.childs[t].equal(e.childs[t]))return!1;return!0}},{key:"pretty",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t="";if(e<=4){t+="type: ".concat(this.type," ").concat(this.name||""," ").concat(this.owner?"owner: ".concat(this.owner.token):""," ").concat(this.token?"[".concat(this.token.value,"]"):null,"\n");for(var i=0;i<this.childs.length;i++){var n=this.childs[i];t+="  ".repeat(e+1)+n.pretty(e+1)}}return t}}],[{key:"fromJson",value:function(t){var i=null,n=(t.token&&(i=new v(k[t.token.type],t.token.value)),new e(w[t.type],i));if(n.name=t.name||null,t.owner&&(n.owner=e.fromJson(t.owner)),t.childs)for(var r=0;r<t.childs.length;r++){var o=t.childs[r];o=e.fromJson(o);n.add(o)}return n}}]),e}();function O(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var E=h((function e(t,i,n,r){c(this,e),O(this,"name",void 0),O(this,"types",void 0),O(this,"func",void 0),O(this,"type",void 0),this.name=t,this.type=n,this.types=r,this.func=i})),A=function(){function e(t){c(this,e),O(this,"expression",void 0),O(this,"tokens",void 0),O(this,"ast",void 0),O(this,"_variables",void 0),O(this,"done",!1),O(this,"token",void 0),O(this,"rules",[]),O(this,"stack",[]),this.tokens=t,this._variables=new Set,this.registerRules(),this.parse()}return h(e,[{key:"variables",get:function(){return Array.from(this._variables)}},{key:"registerRules",value:function(){this.rules.push(new E("lparen",this.readStartGroup.bind(this),"any",[r.LPAREN])),this.rules.push(new E("rparen",this.readEndGroup.bind(this),"any",[r.RPAREN])),this.rules.push(new E("simple_op",this.readOperation.bind(this),"sequence",[r.ANY_VAR,r.ANY_OPERATOR,r.ANY_VAR])),this.rules.push(new E("simple_op_not",this.readMemberOperation.bind(this),"sequence",[r.ANY_VAR,r.DOT,r.ID,r.ANY_OPERATOR,r.ANY_VAR])),this.rules.push(new E("func",this.readMemFunc.bind(this),"sequence",[r.ID,r.DOT,r.ID,r.LPAREN])),this.rules.push(new E("right_func",this.readRightFunc.bind(this),"sequence",[r.DOT,r.ID,r.LPAREN])),this.rules.push(new E("member",this.readMember.bind(this),"sequence",[r.ID,r.DOT,r.ID])),this.rules.push(new E("var",this.readVar.bind(this),"any",[r.ID,r.STR,r.NUM])),this.rules.push(new E("logic",this.readLogic.bind(this),"any",[r.OR,r.AND])),this.rules.push(new E("op",this.readThreeOperation.bind(this),"any",[r.OR,r.ANY_OPERATOR])),this.rules.push(new E("step",this.readStep.bind(this),"any",[r.DOT]))}},{key:"parse",value:function(){this.token=this.tokens.current(),this.readExpression(),this.completeStack()}},{key:"dump",value:function(e){}},{key:"completeStack",value:function(){if(0!==this.stack.length){for(var e=[];0!=this.stack.length;){var t=this.stack.pop();if([o.LOGIC,o.OP].includes(t.type)){if(!t.right){if(0===e.length)throw"syntax error require a right node";var i=e.shift();i.name=s,t.add(i)}}else if([o.MEM].includes(t.type)&&!t.left){if(0===this.stack.length)throw"syntax error mem missing left node";(i=this.stack.pop()).name=a,t.add(i)}e.push(t)}if(1!=e.length)throw"syntax error multiple root";this.ast=e[0]}}},{key:"next",value:function(){return this.token=this.tokens.next(),null!=this.token&&this.token.type!=r.EOF||(this.done=!0),this.token}},{key:"readExpression",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!1;if(null!=this.token&&this.token.type!=r.EOF){for(var i=0;i<this.rules.length&&null!=this.token;i++){var n=this.rules[i];switch(n.type){case"any":this.token.testAny(n.types)&&(n.func.apply(),t=!0,e)&&this.dump(n.name);break;case"sequence":this.tokens.expectPairAll(n.name,n.types)&&(n.func.apply(),t=!0,e)&&this.dump(n.name)}if(t)break}this.readExpression(e)}}},{key:"readStep",value:function(){this.next();var e=this.createNode(o.MEM,this.token);this.stack.push(e),this.next()}},{key:"readVar",value:function(){var e=this.createNode(o.VAR,this.token);this.stack.push(e),this.next()}},{key:"readMember",value:function(){var e=this.createNode(o.VAR,this.token,a,!1),t=(this.next(),this.next(),this.createNode(o.MEM,this.token));t.add(e),this.stack.push(t),this.next()}},{key:"readLogic",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.LOGIC;if(0===this.stack.length)throw"syntax error logic require a left";var t=this.stack.pop();t.name=a,(e=this.createNode(e,this.token)).add(t),this.stack.push(e),this.next()}},{key:"readThreeOperation",value:function(){this.readLogic(o.OP)}},{key:"readStartGroup",value:function(){var e=this.createNode(o.GROUP,null);this.stack.push(e),this.next()}},{key:"readEndGroup",value:function(){if(0===this.stack.length)throw"syntax error end group missing start (";for(var e=[],t=null;0<this.stack.length;){var i=this.stack.pop();if(i.type===o.GROUP){if(e.length<1)throw"syntax error group require at least one child";var n=e.filter((function(e){return e.type===o.LOGIC})),a=new v(r.AND,"and");0<n.length&&(a=n[0].token);for(var s=0;s<e.length;s++){var l=e[s];l.type===o.LOGIC?i.addAll(l.childs):i.add(l)}t=i;for(var u=0;u<t.childs.length;u++)t.childs[u].name=null;t.token=a;break}e.unshift(i)}if(!t)throw"syntax error missing group start";this.stack.push(t),this.next()}},{key:"readParams",value:function(e){var t=[];for(this.token.test(r.LPAREN)&&this.next();null!=this.token&&!this.token.testAny([r.EOF,r.RPAREN,e]);)if(this.token.test(r.COMMA))this.next();else if(this.token.test(r.LBRACKET)){this.next();var i=this.createNode(o.ARRAY,null),n=this.readParams(r.RBRACKET);i.addAll(n),t.push(i)}else{if(!this.token.test(r.ANY_VAR))throw"invalid function parameter syntax around index ".concat(this.tokens.index," token ").concat(this.token);t.push(this.createNode(o.VAR,this.token)),this.next()}return this.next(),t}},{key:"readMemFunc",value:function(){var e=this.createNode(o.VAR,this.token),t=(this.next(),this.next()),i=(this.next(),this.readParams());(t=this.createNode(o.MFUN,t)).owner=e,t.addAll(i),this.stack.push(t)}},{key:"readRightFunc",value:function(){if(0===this.stack.length)throw"syntax error logic require a left";var e=this.stack.pop(),t=this.next(),i=(this.next(),this.readParams());(t=this.createNode(o.MFUN,t)).owner=e,t.addAll(i),this.stack.push(t)}},{key:"readOperation",value:function(){var e=this.createNode(o.VAR,this.token,a),t=(this.next(),this.token),i=(this.next(),this.createNode(o.VAR,this.token,s));(t=this.createNode(o.OP,t)).add(e),t.add(i),this.stack.push(t),this.next()}},{key:"readMemberOperation",value:function(){var e=this.createNode(o.VAR,this.token,a),t=this.createNode(o.MEM,null,a),i=(e=(t.add(e),this.next(),this.next()),e=(t.token=e,this.next(),this.token),this.next(),this.createNode(o.VAR,this.token,s));(e=this.createNode(o.OP,e)).add(t),e.add(i),this.stack.push(e),this.next()}},{key:"createNode",value:function(e,t){var i=new _(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);return t&&e===o.VAR&&t.type===r.ID&&this._variables.add(t.value),i}}]),e}();function P(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var j=function(){function e(){c(this,e),P(this,"index",void 0),P(this,"tokens",void 0),this.index=0,this.tokens=[]}return h(e,[{key:"add",value:function(e){this.tokens.push(e)}},{key:"current",value:function(){return this.tokens[this.index]}},{key:"next",value:function(){return this.index++,this.tokens[this.index]}},{key:"eat",value:function(){var e=this.index;return this.index++,this.tokens[e]}},{key:"eatPair",value:function(e,t,i){var n=[];if(this.expectPair(e,t,i)){this.index=this.index+2;for(var o=this.index;o<this.tokens.length;o++){var a=this.tokens[o];if(this.index++,a.test(i))break;a.test(r.COMMA)||n.push(a)}this.index++}return n}},{key:"look",value:function(e){return this.tokens[this.index+e]}},{key:"readUntil",value:function(e){for(var t=[],i=this.index;i<this.tokens.length;i++){var n=this.tokens[i];if(n.test(e))break;t.push(n)}return i===this.tokens.length?null:t}},{key:"has",value:function(e){var t=this;return 0<this.tokens.filter((function(i,n){return n>t.index&&i.test(e)})).length}},{key:"count",value:function(){return this.tokens.length}},{key:"leftCount",value:function(){return this.tokens.length-this.index-1}},{key:"expectPairAll",value:function(e,t){if(null==this.current()||this.leftCount()<t.length)return!1;for(var i=0;i<t.length;i++)if(!this.look(i).test(t[i]))return!1;return!0}},{key:"expectPair",value:function(e,t,i){var n=this.current();return n&&2<this.leftCount()&&n.test(e)&&this.look().test(t)&&this.has(i)}},{key:"eof",value:function(){return this.tokens[this.index].type===r.EOF}}]),e}();function S(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var q=function(){function e(t){if(c(this,e),S(this,"source",void 0),S(this,"end",void 0),S(this,"offset",void 0),S(this,"column",void 0),S(this,"b",void 0),this.source=t,this.end=this.source.length,0===this.end)throw l;this.offset=0,this.column=0}return h(e,[{key:"lex",value:function(){for(var e,t=new j;!this.eof();){var i=this.current();if(" "!==i){switch(!0){case"-"===i:var n=this.look();this.next(),e=y(n)?new v(r.NUM,"-"+this.readNumber()):new v(r.SUB,i);break;case y(i):e=new v(r.NUM,this.readNumber());break;case"'"===i||'"'===i:e=new v(r.STR,this.readString(i));break;case/[a-z_A-Z]/i.test(i):var o=this.readIdentifier();switch(o){case"and":e=new v(r.AND,o);break;case"or":e=new v(r.OR,o);break;default:e=new v(r.ID,o)}break;default:e=this.lexPunctuation()}t.add(e)}else this.next()}return t.add(new v(r.EOF,"eof")),t}},{key:"lexPunctuation",value:function(){var e,t=this.current();switch(t){case"=":e=r.ASSIGN,"="===this.look()&&(e=r.EQ,t="==",this.next());break;case"!":e=r.NOT,"="===this.look()&&(e=r.NEQ,t="!=",this.next()),"<"===this.look()&&(e=r.ILT,t="!<",this.next(),"="===this.look())&&(e=r.ILTE,t="!<=",this.next()),">"===this.look()&&(e=r.IGT,t="!>",this.next(),"="===this.look())&&(e=r.IGTE,t="!>=",this.next());break;case"<":e=r.LT,"="===this.look()&&(e=r.LTE,t="<=",this.next());break;case">":e=r.GT,"="===this.look()&&(e=r.GTE,t=">=",this.next());break;case"and":e=r.AND,this.look();break;case"or":e=r.OR,this.look();break;case"+":e=r.ADD,this.look();break;case"-":e=r.SUB,this.look();break;case"*":e=r.MUL;break;case"/":e=r.DIV;break;case"(":e=r.LPAREN;break;case"[":e=r.LBRACKET;break;case")":e=r.RPAREN;break;case"]":e=r.RBRACKET;break;case",":e=r.COMMA;break;case".":e=r.DOT;break;default:throw l+" "+t}return this.next(),new v(e,t)}},{key:"readNumber",value:function(){var e=!1;return this.readIf((function(t){return"."===t?!e&&(e=!0):y(t)}))}},{key:"readString",value:function(e){this.next();var t=this.readIf((function(t){return t!==e}));return this.next(),t}},{key:"readIdentifier",value:function(){return this.readIf((function(e){return/[a-zA-Z_0-9]/i.test(e)}))}},{key:"readIf",value:function(e){for(var t=[];!this.eof();){var i=this.next();if(!e(i)){this.offset--,this.column--;break}t.push(i)}return t.join("")}},{key:"next",value:function(){var e=this.source.charAt(this.offset++);return this.column++,e}},{key:"look",value:function(){return this.source.charAt(this.offset+1)}},{key:"current",value:function(){return this.source.charAt(this.offset)}},{key:"eof",value:function(){return""===this.current()}}]),e}();function T(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?T(Object(i),!0).forEach((function(t){var n=e,r=i[t];t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(){var e=this;return this&&this.value&&this.items?(Array.isArray(this.value)?this.items.filter((function(t){return e.value.includes(t.value)})).map((function(e){return e.text})):this.items.filter((function(t){return e.value===t.value})).map((function(e){return e.text}))).join(",").replace(n,""):""}function R(e){return null!=this&&""!=this&&("string"==typeof this?this.includes(e):"object"==d(this)&&null!=this.value&&null!=this.value&&this.value.toString().includes(e))}function C(e){return null!=this&&""!=this&&("string"==typeof this?!this.includes(e):"object"==d(this)&&null!=this.value&&null!=this.value&&!this.value.toString().includes(e))}function L(e){return null!=this&&("string"==typeof this?this.startsWith(e):"object"==d(this)&&null!=this.value&&null!=this.value&&this.value.toString().startsWith(e))}function M(e){return null!=this&&("string"==typeof this?this.endsWith(e):"object"==d(this)&&null!=this.value&&null!=this.value&&this.value.toString().endsWith(e))}var D={contains:R,notContains:C,startsWith:L,endsWith:M,isEmpty:function(){return null!=this&&("string"==typeof this?""===this:null==this.value||null==this.value||""===this.value)},notEmpty:function(){return null!=this&&("string"==typeof this?""!=this:null!=this.value&&null!=this.value&&""!=this.value)},selected:function(e){var t;return!(!this||!e)&&(t=null)!=(t="object"==d(this)?this.value:this)&&(Array.isArray(t)?Array.isArray(e)?e.every((function(e){return t.includes(e)})):t.includes(e):e.includes(t))},unselected:function(e){var t;return!(!this||!e||(t=null)==(t="object"==d(this)?this.value:this)||(Array.isArray(t)?Array.isArray(e)?e.every((function(e){return t.includes(e)})):t.includes(e):e.includes(t)))},selectedAnyTag:function(e,t){var i,n=this;return!!(this&&this.value&&e&&this.items&&this.tags&&t&&Array.isArray(t))&&(i=this.items.filter((function(t){return t.value===e})),this.value==e)&&0!==i.length&&t.some((function(e){return n.tags.includes(e)}))},selectedTextContains:function(e){var t=I.apply(this);return R.apply(t,[e])},selectedTextNotContains:function(e){var t=I.apply(this);return C.apply(t,[e])},commentContains:function(e){return R.apply(this.comment,[e])},commentStartsWith:function(e){return L.apply(this.comment,[e])},commentEndsWith:function(e){return M.apply(this.comment,[e])}},U={selectedCount:function(){return this&&this.value&&0!==this.value.length&&this.items?Array.isArray(this.value)?this.value.length:1:null},unselectedCount:function(){var e;return 0===(e=this&&this.value&&0!==this.value.length&&this.items?Array.isArray(this.value)?this.value.length:1:0)?null:this.items.length-e},selectedText:I,unselectedText:function(){var e=this;return this&&this.items?(Array.isArray(this.value)?this.items.filter((function(t){return!e.value.includes(t.value)})).map((function(e){return e.text})):this.items.filter((function(t){return t.value!==e.value})).map((function(e){return e.text}))).join(",").replace(n,""):""},selectedItems:function(){var e,t,i=this;return this&&this.value&&this.items?(e={},this.alias&&0<this.alias.headers.length&&0<this.alias.rows.length&&(e=this.alias.rows.reduce((function(e,t){return e[t.item]=t,e}),{})),t=this.items.reduce((function(e,t){return e[t.value]=t.text.replace(n,""),e}),{}),Array.isArray(this.value)?this.items.filter((function(e){return i.value.includes(e.value)})).map((function(i){return N(N({},{value:i.value,text:t[i.value]}),e[i.value]||{})})):this.items.filter((function(e){return i.value===e.value})).map((function(i){return N(N({},{value:i.value,text:t[i.value]}),e[i.value]||{})}))):[]},unselectedItems:function(){var e,t,i=this;return this&&this.items?(e={},this.alias&&0<this.alias.headers.length&&0<this.alias.rows.length&&(e=this.alias.rows.reduce((function(e,t){return e[t.item]=t,e}),{})),t=this.items.reduce((function(e,t){return e[t.value]=t.text.replace(n,""),e}),{}),Array.isArray(this.value)?this.items.filter((function(e){return!i.value.includes(e.value)})).map((function(i){return N(N({},{value:i.value,text:t[i.value]}),e[i.value]||{})})):this.items.filter((function(e){return e.value!==i.value})).map((function(i){return N(N({},{value:i.value,text:t[i.value]}),e[i.value]||{})}))):[]}},z=function(e){return e=1<arguments.length&&void 0!==arguments[1]&&!arguments[1]?"$".concat(e):e,D[e]},V=function(e){return U[e]},G=function(e){return e in U};function Q(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var B=function(){function e(t){c(this,e),Q(this,"parser",void 0),Q(this,"context",void 0),Q(this,"variables",void 0),Q(this,"expression",void 0),this.expression=t,t=new q(t).lex(),this.parser=new A(t)}return h(e,[{key:"evaluate",value:function(e){return this.context=e,this.parser&&this.parser.ast?this.visit(this.parser.ast):null}},{key:"getVariables",value:function(){var e;return(null==(e=this.parser)?void 0:e.variables)||[]}},{key:"getTokens",value:function(){var e;return(null==(e=this.parser)?void 0:e.tokens)||[]}},{key:"getAst",value:function(){var e;return(null==(e=this.parser)?void 0:e.ast)||[]}},{key:"visit",value:function(e){if(!e)return null;switch(e.type){case o.OP:return this.visitOperator(e);case o.VAR:return this.visitVariable(e);case o.MEM:return this.visitMember(e);case o.MFUN:return this.visitMemberFunction(e);case o.LOGIC:return this.visitLogic(e);case o.ARRAY:return this.visitArray(e);case o.GROUP:return this.visitGroup(e);default:throw"".concat(l," unexpected node ").concat(e.type)}}},{key:"visitOperator",value:function(e){var t=this.visit(e.left),i=this.visit(e.right);if(null==t||null==i)return!1;switch(e.token.type){case r.EQ:return m(t,i);case r.NEQ:return!m(t,i);case r.ADD:return t+i;case r.SUB:return t-i;case r.MUL:return t*i;case r.DIV:return t/i;case r.AND:return t&&i;case r.OR:return t||i;case r.GT:return i<t;case r.GTE:return i<=t;case r.LT:return t<i;case r.LTE:return t<=i;case r.ILT:return-1!=t&&t<i;case r.ILTE:return-1!=t&&t<=i;case r.IGT:return-1!=t&&i<t;case r.IGTE:return-1!=t&&i<=t;default:throw l+" "+e.operator.token.value}}},{key:"visitVariable",value:function(e){switch(e.token.type){case r.NUM:return parseInt(e.token.value);case r.STR:return e.token.value;case r.ID:return this.context[e.token.value];default:throw"".concat(l," unexpected token ").concat(e.token.type)}}},{key:"visitMember",value:function(e){var t=this.visit(e.left),i=e.token.value;if(t){if(G(i))return V(i).apply(t);if(!Array.isArray(t))return null!=(e=t[i])?e:null;if("count"===i)return t.length;if(0<t.length&&t[0][i])return t.filter((function(e){return null!=e[i]})).map((function(e){return e[i]})).join(",")}return null}},{key:"visitArray",value:function(e){for(var t=[],i=0;i<e.childs.length;i++){var n=e.childs[i];n=this.visit(n);t.push(n)}return t}},{key:"visitGroup",value:function(e){for(var t=[],i=e.token.type,n=0;n<e.childs.length;n++){var o=e.childs[n];o=this.visit(o);t.push(o)}return i===r.AND?0==t.filter((function(e){return!e})).length:0<t.filter((function(e){return e})).length}},{key:"visitLogic",value:function(e){var t=this.visit(e.left),i=this.visit(e.right);switch(e.token.type){case r.NOT:return!t;case r.AND:return t&&i;case r.OR:return t||i;default:throw"".concat(l," unexpected type ").concat(e.token)}}},{key:"visitMemberFunction",value:function(e){for(var t=this.visit(e.owner),i=e.token.value,n=(i=z(i),[]),r=0;r<e.childs.length;r++){var o=e.childs[r];o=this.visit(o);null!=o&&n.push(o)}return null!=i&&null!=t?i.apply(t,n):null}}]),e}()},579:function(e,t,i){var n=i(799).Z;i=i(147).version;e.exports={ExpressionEvaluator:n,version:i}},147:function(e){"use strict";e.exports=JSON.parse('{"name":"@hanyi/survey-expression-next","version":"0.2.25","description":"survey expression pure ast version","main":"dist/index.js","keywords":["survey","surveyplus","lite"],"files":["dist"],"scripts":{"test":"node ./node_modules/jest/bin/jest.js --runInBand","build":"webpack --mode=production","build:report":"webpack --config ./webpack.config.js --env report=true"},"author":"xmplus-xrl","license":"MIT","dependencies":{},"sideEffects":false,"devDependencies":{"@babel/plugin-proposal-class-properties":"^7.14.5","@babel/preset-env":"^7.14.5","babel-loader":"^8.2.2","jest":"^27.0.4","terser-webpack-plugin":"^5.3.6","webpack":"^5.50.0","webpack-bundle-analyzer":"^4.7.0","webpack-cli":"^4.7.2"},"engines":{"node":">=14"},"browserslist":["defaults","ios 11","safari 11"]}')}},n={},t.d=function(e,i){for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t(579))},147:function(e){"use strict";e.exports=JSON.parse('{"name":"@hanyi/survey-core-next","version":"0.1.21","description":"survey core lite version for mp and uniapp","main":"dist/index.js","keywords":["survey","surveyplus","lite"],"files":["dist"],"scripts":{"reInstall":"rimraf node_modules/@hanyi && npm install","watch-build":"webpack --mode=development --watch","build":"webpack --mode=production","build:publish":"webpack --mode=production && npm publish","dev":"webpack --mode=development --watch","test":"jest --runInBand"},"author":"xmplus-xrl","license":"MIT","devDependencies":{"@babel/core":"^7.21.4","@babel/preset-env":"^7.21.4","babel-loader":"^9.1.2","clean-webpack-plugin":"^4.0.0","jest":"^29.5.0","rimraf":"^5.0.0","uglifyjs-webpack-plugin":"^2.2.0","webpack":"^5.78.0","webpack-cli":"^5.0.1"},"dependencies":{"@hanyi/survey-expression-next":"^0.2.25"},"engines":{"node":">=14"},"browserslist":["defaults and supports es6-module","safari 11"],"repository":{"type":"git","url":"http://gitlab.surveyplus.cn/surveylite/survey-core-next.git"}}')}},i={},e.d=function(t,i){for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p={},function(){"use strict";function t(e,t,i){var n;n=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==d(n)?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}e.r(p),e.d(p,{default:function(){return W}});var i=function(){function e(t){var i=this,n=(c(this,e),this._props={},this.constructor.fields);Object.keys(n).forEach((function(e){var r=n[e],o=t[e];o&&"jsonstring"===r.type&&(o=JSON.parse(o)),i._props[e]=e in t?o:r.default})),Object.keys(n).forEach((function(e){var t=n[e];i.reactiveField(e,t)}))}return h(e,[{key:"reactiveField",value:function(e,t){var i=this;Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return e in i._props?i._props[e]:t.default},set:function(t){i._props[e]=t}})}}],[{key:"string",value:function(e){return{type:"string",default:e}}},{key:"long",value:function(e){return{type:"long",default:e}}},{key:"any",value:function(e){return{type:"any",default:e}}},{key:"bool",value:function(e){return{type:"bool",default:e}}},{key:"array",value:function(e){return{type:"array",default:e}}},{key:"references",value:function(e){return{type:"references",default:[],target:e}}},{key:"reference",value:function(e){return{type:"reference",default:null,target:e}}},{key:"jsonstring",value:function(){return{type:"jsonstring",default:""}}},{key:"object",value:function(e){return{type:"object",default:e}}},{key:"number",value:function(e){return{type:"number",default:e}}}]),e}();function u(e,t){for(var i={},n=0;n<e.length;n++)i[e[n][t]]=e[n];return i}function g(e){var t=1;e.forEach((function(e){!["GROUP","SEPARATOR"].includes(e.type)&&e._visible&&e._skips<=0&&(e._no=t,t+=1)}))}function f(e){return null===e?"":(e+="")&&e.replace(/<[^>]+>/g,"")}t(i,"fields",{}),t(i,"seed",0);var v=e(551),m=function(){function e(t,i,n){c(this,e),this.expression=t,this.target=i,this._evaluator=null,this._variables=[],this._triggerOnNextPage=n,this._build()}return h(e,[{key:"triggerOnNextPage",get:function(){return this._triggerOnNextPage}},{key:"variables",get:function(){return this._variables}},{key:"_build",value:function(){try{this._evaluator=new v.ExpressionEvaluator(this.expression),this._variables=this._evaluator.getVariables()}catch(t){}}},{key:"run",value:function(e,t,i){this._evaluator&&(i=this._evaluator.evaluate(i))&&!0===i&&this.onSuccess(e)}}]),e}(),y=function(){s(t,m);var e=l(t);function t(i,n,r){return c(this,t),(i=e.call(this,i,n,!1)).type=r,i}return h(t,[{key:"run",value:function(e,t,i){this._evaluator&&(i=this._evaluator.evaluate(i),"QUESTION"===this.type?e.showQuestion(this.target,i):"GROUP"===this.type&&e.showPage(this.target,i))}}]),t}(),b=function(){s(t,m);var e=l(t);function t(i,n){return c(this,t),e.call(this,i,n,!1)}return h(t,[{key:"run",value:function(e,t,i){this._evaluator&&(i=this._evaluator.evaluate(i),e.updateQuestionTitle(this.expression,this.target,i))}}]),t}(),x={survey:null,service:null,api:null,adapter:null,storage:null,handlers:[],triggerIds:[]};function k(e,t){x[e]=t}function w(e,t){x.handlers.forEach((function(i){try{i(e,t)}catch(i){}}))}function _(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){E(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function E(e,t,i){var n;n=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==d(n)?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}var A={VISIBLE:y,GOTO:function(){s(t,m);var e=l(t);function t(i,n){return c(this,t),(i=e.call(this,i,n,!1)).previous_result=!1,i._source=null,i}return h(t,[{key:"run",value:function(e,t,i){this._evaluator&&((i=this._evaluator.evaluate(i))!=this.previous_result&&(i?this._gotoTarget(e,t):this._restore(e)),this.previous_result=i)}},{key:"_gotoTarget",value:function(e,t){this._source=t,e.gotoQuestion(t,this.target,!0)}},{key:"_restore",value:function(e){e.gotoQuestion(this._source,this.target,!1)}}]),t}(),COMPLETE:function(){s(t,m);var e=l(t);function t(i,n){return c(this,t),e.call(this,i,n,!0)}return h(t,[{key:"onSuccess",value:function(e){e.finish(!0)}}]),t}(),FINISH:function(){s(t,m);var e=l(t);function t(i,n){return c(this,t),e.call(this,i,n,!0)}return h(t,[{key:"onSuccess",value:function(e){e.finish(!1)}}]),t}(),TEXTPIPE:b},P=function(){s(t,i);var e=l(t);function t(i){return c(this,t),(i=e.call(this,i)).handlers={},i._questionsMaps={},i.triggers={},i.callbacks={},i}return h(t,[{key:"progress",get:function(){var e=this.getAllQuestions().filter((function(e){return e.isVisible()}));return e.filter((function(e){return null!=e._value})).length/e.length}},{key:"timeSpent",get:function(){var e=(new Date).getTime();return Math.round((e-this._startTime.getTime())/1e3)}},{key:"visiblePages",get:function(){return this.pages.filter((function(e){return!e.isEmpty}))}},{key:"getAllQuestions",value:function(){return this._questions}},{key:"getAllQuestionsToCurrentPage",value:function(e){var t=[];return this.pages.forEach((function(i,n){n<=e&&i.questions.forEach((function(e){return t.push(e)}))})),t}},{key:"getQuestionByName",value:function(e){return this._questionsMaps.name[e]}},{key:"getQuestionByCode",value:function(e){return this._questionsMaps.code[e]}},{key:"getValuesMap",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t={};return this.getAllQuestions().forEach((function(i){e&&!i.isVisible||(t[i.name]={value:i._value,items:i.items})})),t.parameters=this._parameters.parameters||{},t.system_parameters={customerId:this._parameters.customerId,departmentId:this._parameters.departmentId,externalUserId:this._parameters.externalUserId,externalCompanyId:this._parameters.externalCompanyId,departmentName:this._parameters.departmentName,departmentCode:this._parameters.departmentCode,customerName:this._parameters.customerName,customerGender:this._parameters.customerGender,dynamicQuestionItems:this._parameters.dynamicQuestionItems},t}},{key:"data",get:function(){return this.getValues()}},{key:"getValues",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t={};return this.getAllQuestions().forEach((function(i){null==i._value||e&&!i.isVisible||(t[i.name]=i._value,i._comment&&(t[i.name+"-Comment"]=i._comment),i._tags&&(t[i.name+"-Tags"]=i._tags))})),t}},{key:"getValuesToCurrentPage",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],i={};return this.getAllQuestionsToCurrentPage(1<arguments.length&&void 0!==arguments[1]?arguments[1]:null).forEach((function(n){null==n._value||t&&!n.isVisible||(i[n.name]=n._value,n._comment&&(i[n.name+"-Comment"]=n._comment),n._tags&&(i[n.name+"-Tags"]=n._tags)),"score_evaluation"==n.type.toLowerCase()&&(e._cellScore[n.name]=n.items.findIndex((function(e){return e.value==n._value}))+1)})),i}},{key:"registerHandler",value:function(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)}},{key:"showQuestion",value:function(e,t){var i=this.getQuestionByName(e);i&&!(i._visible=t)&&this.onValueChanged(e,null),g(this.getAllQuestions())}},{key:"showPage",value:function(e,t){var i=this.pages.filter((function(t){return t.name===e}));if(0<i.length){for(var n=0;n<i.length;n++)i[n]._visible=t;g(this.getAllQuestions())}}},{key:"finish",value:function(e){this._isFinished=!0,this._isEarlyCompleted=e,this.callbacks.FINISH&&this.callbacks.FINISH(e)}},{key:"gotoQuestion",value:function(e,t,i){var n=this.getQuestionByName(e),r=this.getQuestionByName(t);if(void 0!==n&&void 0!==r){for(var o=this.getAllQuestions(),a=(e=o.findIndex((function(e){return e.id===n.id})),o.findIndex((function(e){return e.id===r.id}))),s=e+1;s<a;s++){var l=o[s];l._skips=l._skips+(i?1:-1)}g(o)}}},{key:"updateValue",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,r=this.getQuestionByName(e);r&&(this._lastQuestionName=r.name,r._value=t,r._comment=i,r._tags=n,this.onValueChanged(e,t),this.goNextPage(r))}},{key:"validate",value:function(){return this.pages&&this.pages.forEach((function(e){if(!e.validate())return!1})),!0}},{key:"registerCallback",value:function(e,t){this.callbacks[e]=t}},{key:"buildAll",value:function(){this.triggers={},this._buildQuestionMaps(),this._buildQuestionDependency(),this._buildLogic(),this.registerHandler("ValueChanged",this.onValueChanged.bind(this)),this._runTextPipeTriggers();var e=this.visiblePages;this._currentPage=0<e.length?e[0]:null,this._currentPage&&(e=this._currentPage.questions,this._hasValue=e.filter((function(e){return!e.isRequired||-1<["MARK","EXPERIMENT","MEDIA","SEPARATOR"].indexOf(e.type)})).length==e.length)}},{key:"_buildQuestionMaps",value:function(){var e=[];this.pages.forEach((function(t){t.questions.forEach((function(t){return e.push(t)}))})),this._questions=e,this._questionsMaps.name=u(this._questions,"name"),this._questionsMaps.code=u(this._questions,"code")}},{key:"updateQuestionValue",value:function(e,t){this.updateValue(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,3<arguments.length&&void 0!==arguments[3]?arguments[3]:null)}},{key:"onValueChanged",value:function(e,t){var i=this.getValuesMap(),n=Object.values(i).some((function(e){return null!==e.value&&void 0!==e.value}));!this._hasValue&&n&&(this._hasValue=!0),this._currentPage.validate()&&this._runTriggers(e,i)}},{key:"goNextPage",value:function(e){var t,i=this;if(!this.goNextPageAutomatic)return!1;this._currentPage&&this._currentPage.questions&&0<this._currentPage.questions.filter((function(e){return e._visible&&e._skips<=0})).length&&(t=!1,"SCORE"===e.type?t=!0:"SINGLE_CHOICE"===e.type?t=0==e.items.filter((function(e){return e.enableTextInput})).length:-1<["EVALUATION","SCORE_EVALUATION"].indexOf(e.type)?t=!(0<e.items.filter((function(e){return!!e.configure})).length)&&!e.hasOther:"NPS"===e.type&&(t=!e.showTags&&!e.hasOther),t)&&(e=!0,e=!!(this.pages&&this.pages.length>this._currentPage._index+1)&&0<this.pages.filter((function(e){return!e.isEmpty})).filter((function(e){return e._index>i._currentPage._index&&!e.isEmpty})).map((function(e){return e._index})).length,this._currentPage._index===this.pages[this.pages.length-1]._index||this._currentPage._index!==this.pages[this.pages.length-1]._index&&!e?w("submit"):this._currentPage.validate(!1)&&w("goNextPage"))}},{key:"onQuestionVisibleChange",value:function(e){g(this.questions)}},{key:"performPrevPage",value:function(){var e=this,t=this.pages.filter((function(e){return!e.isEmpty})),i=t.findIndex((function(t){return t._index===e._currentPage._index})),n=0<i?t[i-1]._index:-1;(t=this.pages.filter((function(e){return e._index===n}))||null)&&(this._currentPage=this.pages[t[0]._index])}},{key:"performNextPage",value:function(){var e=this,t=this.pages.filter((function(e){return!e.isEmpty})),i=t.findIndex((function(t){return t._index===e._currentPage._index})),n=t.length-1>i?t[i+1]._index:-1;(i=0<(t=this.pages.filter((function(e){return e._index===n}))).length?t[0]:null)&&(this._currentPage=i)}},{key:"updateQuestionTitle",value:function(e,t,i){(t=this.getQuestionByName(t))&&t.updateTitle(e,i)}},{key:"runExpression",value:function(e){var t=this.getValuesMap();return new v.ExpressionEvaluator(e).evaluate(t)}},{key:"explainExpression",value:function(e){var t=(e=new v.ExpressionEvaluator(e)).getAst();e=e.getTokens();return{version:v.version,ast:t,tokens:e}}},{key:"_runPageTriggers",value:function(e){var t=this,i=this.getValuesMap(),n=(e=e.questions.map((function(e){return e.name})),[]);e.forEach((function(e){t.triggers[e]&&(e=t.triggers[e].filter((function(e){return e.triggerOnNextPage})),n=n.concat(e))})),n.forEach((function(e){e.run(t,null,i)}))}},{key:"_runTextPipeTriggers",value:function(){for(var e=this,t=this.getValuesMap(),i=Object.keys(this.triggers),n=0;n<i.length;n++)!function(){var r=i[n];e.triggers[r].forEach((function(i){if(i instanceof b||i instanceof y)try{i.run(e,r,t)}catch(i){}}))}()}},{key:"_runTriggers",value:function(e,t){var i=this;e in this.triggers&&this.triggers[e].forEach((function(n){if(!n.triggerOnNextPage)try{n.run(i,e,t)}catch(n){}}))}},{key:"buildResponseData",value:function(e,t){var i={},n=null==(n=this._currentPage._index)?this.getValues():this.getValuesToCurrentPage(!0,n);return i.clientId=e.clientId,i.responseId=e.responseId,i.channelId=e.channelId,i.isEarlyCompleted=this._isEarlyCompleted,i.isCompleted=!!this._isEarlyCompleted||this._isFinished,i.data=n,"{}"!=JSON.stringify(this._cellScore)&&(i.cellScore=this._cellScore),i.durationSeconds=this.timeSpent,i}},{key:"performNext",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r=this._currentPage,o=r.validate();return new Promise((function(a,s){if(!o)return s(null),!1;t._runPageTriggers(r);var l=O(O({},t.buildResponseData(e)),i);"preview"==n?a({}):x.service.submit(t.id,l,t._isFinished).then((function(e){a(e)})).catch((function(e){s(e)}))}))}},{key:"performSubmit",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r=this._currentPage,o=r.validate();return new Promise((function(a,s){if(!o)return s(null),!1;t._runPageTriggers(r),t._isFinished=!0;var l=O(O({},t.buildResponseData(e)),i);"preview"==n?a({}):x.service.submit(t.id,l,!0).then((function(e){a(e)})).catch((function(e){s(e)}))}))}},{key:"_registerTrigger",value:function(e){var t=this;e.variables.forEach((function(i){t.triggers[i]||(t.triggers[i]=[]),t.triggers[i].push(e)}))}},{key:"_buildQuestionDependency",value:function(){for(var e=this,t=0;t<this.pages.length;t++){var i=this.pages[t];i.visibleIf&&(i=new y(i.visibleIf,i.name,"GROUP"),this._registerTrigger(i))}this.questions&&this.questions.forEach((function(t){var i;if(t.visibleIf&&(i=new y(t.visibleIf,t.name,"QUESTION"),e._registerTrigger(i)),t._pipe_expressions&&0<t._pipe_expressions.length)for(var n=0;n<t._pipe_expressions.length;n++){var r=t._pipe_expressions[n];r=new b(r,t.name);e._registerTrigger(r)}}))}},{key:"_buildLogic",value:function(){var e=this;if(null===this.logics||void 0===this.logics)return[];this.logics.forEach((function(t){var i=t.expression,n=t.target;(t=t.type)in A&&(t=new A[t](i,n),e._registerTrigger(t))}))}},{key:"_buildContext",value:function(e){var t=this,i={};return Object.keys(e).forEach((function(n){var r=t.questionsMapByName[n];i[n]={value:e[n],items:r.items||[]}})),i}},{key:"_buildCacheKey",value:function(e,t){return e+"_"+t}}]),t}();function j(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){var n,r=e,o=i[t];n=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==d(n)?n:String(n))in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}E(P,"fields",{id:P.long(),responseId:P.long(),title:P.string(""),status:P.string(""),pageMode:P.string("STANDARD"),pages:P.references("page"),logics:P.references("logic"),questions:P.references("question"),style:P.object({}),embed:P.object({}),channel:P.reference("channel"),concludingRemark:P.string(""),abnormalConcludingRemark:P.string(""),brandLogo:P.string(""),showBrand:P.bool(!0),showQuestionNumbers:P.bool(!0),questionNumberMode:P.string(""),showBackground:P.bool(!1),goNextPageAutomatic:P.bool(!1),showRequiredButton:P.bool(!0),randoms:P.references("random"),_currentPage:P.reference("page"),_show:P.bool(!1),_valid:P.bool(!0),_version:P.long(0),_isFinished:P.bool(!1),_isEarlyCompleted:P.bool(!1),_parameters:P.object({}),_startTime:P.long(new Date),_hasValue:P.bool(!1),_lock:P.bool(!1),_lastQuestionName:P.long(null),_cellScore:P.object({})});var q={development:"https://dev.xmplus.cn/api/survey",test:"https://test.xmplus.cn/api/survey",production:"https://www.xmplus.cn/api/survey"},T=function(){function e(t,i){c(this,e);var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.adapter=t,this.server=i||"production",this.options=n,this.collectorMethod=n.collectorMethod||"MP",this.serviceUrl=this.server.startsWith("http")?this.server:q[this.server]}return h(e,[{key:"downloadConfig",value:function(e,t){var i=this;return new Promise((function(n,r){i.adapter.request({method:"GET",url:i.serviceUrl+"/surveys/"+e+"/embed?channelId="+t}).then((function(e){e&&e.data?200!==e.data.code?r(e.data.message):n(e.data.data):r("系统错误")})).catch((function(e){r(e||"系统错误")}))}))}},{key:"embedBySendToken",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(n,r){t.adapter.request({method:"GET",url:t.serviceUrl+"/surveys/send-manage/"+e}).then((function(e){e&&e.data?200!==e.data.code?r(e.data.message):((e=e.data.data).surveyKey=i,n(e)):r("系统错误")})).catch((function(e){r(e||"系统错误")}))}))}},{key:"loadSurvey",value:function(e,t,i){var n=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0,a=5<arguments.length?arguments[5]:void 0,s={},l=(r.accessCode&&(s.accessCode=r.accessCode),delete r.accessCode,o&&(s.token=o),S(S({},r),{channelId:t,collectorMethod:this.collectorMethod,additionData:s}));return"preview"===a.mode?new Promise((function(i,r){n.adapter.request({method:"GET",url:n.serviceUrl+"/surveys/"+e+"/channel/"+t+"/preview"}).then((function(e){e&&e.data?200!==e.data.code?r(e.data.message):i(e.data.data):r("系统错误")})).catch((function(e){r(e||"系统错误")}))})):new Promise((function(t,r){n.adapter.request({method:"POST",url:n.serviceUrl+"/surveys/"+e+"/start/"+i,data:l}).then((function(e){e&&e.data?200!==e.data.code?r(e.data.message):t(e.data.data):r("系统错误")})).catch((function(e){r(e||"系统错误")}))}))}},{key:"sendResult",value:function(e,t){var i=this;return t.collectorMethod=this.collectorMethod,new Promise((function(n,r){i.adapter.request({method:"POST",url:i.serviceUrl+"/surveys/"+e+"/submit",data:t}).then((function(e){e&&e.data?200!==e.data.code?r(e.data.message):n(e.data.data):r("系统错误")})).catch((function(e){r("系统错误")}))}))}},{key:"distubUploadSend",value:function(e,t){this.adapter.request({method:"POST",url:this.serviceUrl+"/surveys/"+e+"/survey-disturb-record",data:t}).then((function(e){})).catch((function(e){}))}},{key:"sendRandomResult",value:function(e,t,i,n){this.adapter.request({method:"POST",url:this.serviceUrl+"/surveys/"+e+"/response/"+t+"/random-result",data:i}).then((function(e){n(e)})).catch((function(e){}))}}]),e}(),N=function(){function e(t){c(this,e),this.adapter=t}return h(e,[{key:"getItem",value:function(e){return this.adapter.getStorageSync(e)}},{key:"setItem",value:function(e,t){return this.adapter.setStorageSync(e,t)}},{key:"removeItem",value:function(e){return this.adapter.removeStorageSync(e)}},{key:"ensureItem",value:function(e,t){var i=this.adapter.getStorageSync(e);return""===i&&(this.adapter.setStorageSync(e,t),i=t),i}}]),e}(),I=function(){s(t,i);var e=l(t);function t(i){return c(this,t),(i=e.call(this,i))._visible=!i.visibleIf,i}return h(t,[{key:"visibleIf",set:function(e){this.visibleIf=e,this._visible=!this.visibleIf}},{key:"isEmpty",get:function(){return!this._visible||0===this.questions.length||0===this.questions.filter((function(e){return e.isVisible})).length}},{key:"validate",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!0;if(this.questions)for(var i=0;i<this.questions.length;i++){var n=this.questions[i];n._visible&&n._skips<=0&&!n.validate(e)&&(t=!1)}return t}}]),t}();function R(e,t,i){return i=2<arguments.length&&void 0!==i?i:0,e=e||Math.floor(1e3*Math.random()),Number("0."+Math.sin(e+t+i).toString().substr(6))}function C(e,t,i,n){var r=2<arguments.length&&void 0!==i?i:0;if((i=3<arguments.length&&void 0!==n?n:null)&&i<=0)return[];if(!t||t.length<2)return t;t=(n=t.map((function(t,i){return{isFix:t.isFix,index:i,data:t,sort:R(e,r,i)}}))).filter((function(e){return e.isFix})),n=n.filter((function(e){return!e.isFix})),i=i?Math.min(n.length,i):n.length;var o=n.sort((function(e,t){return e.sort-t.sort})).slice(0,i);return t.forEach((function(e){o.splice(e.index,0,e)})),o.map((function(e){return e.data}))}U="fields",z={id:(D=I).long(),name:I.string(""),code:I.string(""),sequence:I.long(0),visibleIf:I.string(""),questions:I.references("question"),_index:I.long(0),_visible:I.bool(!0)},V=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(U),(U="symbol"==d(V)?V:String(V))in D?Object.defineProperty(D,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[U]=z;var L,M=function(){s(t,i);var e=l(t);function t(i){return c(this,t),(i=e.call(this,i))._visible=!i.visibleIf,i._titleTrim=f(i.title),i._pipe_expressions=function(e){if(null===e)return null;var t,i,n=[],r=a(e.matchAll(/<span.+?data-expression=\"{{([\d\w\.]+)}}\".+?<\/span>/g));try{for(r.s();!(i=r.n()).done;)t=i.value,n.push(t[1])}catch(e){r.e(e)}finally{r.f()}return 0<n.length?n:null}(i.title),i._rawTitle=i.title,i.initRandomLogic(),i}return h(t,[{key:"initRandomLogic",value:function(){0<this.items.length&&-1==["EVALUATION","SCORE_EVALUATION","NPS"].indexOf(this.type)&&("RANDOM"===this.itemsOrder?this.items=C(i.seed,this.items,this.id,this.randomLimit):"RANDOM_DIRECTION"===this.itemsOrder&&(this.items=function(e,t,i){e=.5<R(e,i)?1:-1;var n=o(t);if(1!=e)for(var r,a=0,s=n.length-1;a<s;)n[a].isFix?a++:(n[s].isFix||(r=[n[s],n[a]],n[a]=r[0],n[s]=r[1],a++),s--);return n}(i.seed,this.items,this.id)))}},{key:"isVisible",get:function(){return this._visible&&this._skips<=0}},{key:"updateValue",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._value=e,this._comment=t,this._tags=i}},{key:"updateTitle",value:function(e,t){var i,n,r;this.title=(i=this.title,n=e,null===i?"":(r=null===t||"undefined"===t||""===t?" ":t,e=new RegExp('<span.+?data-expression="{{'.concat(n,'}}".+?>(.+?)</span>'),"g"),i.replace(e,(function(){return'<span data-type="pipe" class="pipe" data-expression="{{'.concat(n,'}}" data-label="">').concat(r,"</span>")}))))}},{key:"validateError",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return 1<arguments.length&&arguments[1]&&(this._valid=!1,this._error=e||"请回答此问题"),!1}},{key:"validate",value:function(){var e,t,i=this,n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.isRequired&&(""===this._value||null===this._value||void 0===this._value||Array.isArray(this._value)&&0==this._value.length))return this.validateError("",n);if(this.items&&0<this.items.length)for(var r=0;r<this.items.length;r++){var o=this.items[r];if(this._value&&o.isRequired&&-1<this._value.indexOf(o.value)&&(!this._comment||-1===this._comment.indexOf(o.value)))return this.validateError("输入框不能为空",n)}return this.enableValidator&&("EVALUATION"==this.type||"SCORE_EVALUATION"==this.type)&&(null!==this.minLength||null!==this.maxLength)&&0<((t=this.items.find((function(e){return e.value==i._value}))||{}).configure&&t.configure.split(",")||[]).length&&(!this._tags||0==this._tags.length||null!==this.minLength&&this.minLength>this._tags.length||null!==this.maxLength&&this.maxLength<this._tags.length)||this.enableValidator&&"NPS"==this.type&&(null!==this.minLength||null!==this.maxLength)&&(+this._value<=6?e=0:6<+this._value&&+this._value<=8?e=1:8<+this._value&&+this._value<=10&&(e=2),0<((t=this.items.find((function(t,i){return i==e}))||{}).configure&&t.configure.split(",")||[]).length&&(!this._tags||0==this._tags.length||null!==this.minLength&&this.minLength>this._tags.length||null!==this.maxLength&&this.maxLength<this._tags.length))?(t="标签选择数量必须"+(null!=this.minLength?"大于等于"+this.minLength+"个":"")+(null!=this.maxLength?(null!=this.minLength?"，且":"")+"小于等于"+this.maxLength+"个":""),this.validateError(t,n)):this._valid=!0}}]),t}(),D=M,U="fields",z={id:M.long(),name:M.string(""),code:M.string(""),sequence:M.long(0),title:M.string(""),type:M.string(""),groupCode:M.string(""),items:M.references("question_item"),labels:M.long(2),visibleIf:M.string(""),isRequired:M.bool(!1),min:M.long(1),max:M.long(10),isNps:M.bool(!1),enableValidator:M.bool(!1),minLength:M.long(),maxLength:M.long(),placeHolder:M.string(""),inputType:M.string(""),areaType:M.string(""),itemLayout:M.string(""),isDefaultValue:M.bool(!1),evaluationValue:M.string(""),itemsOrder:M.string(""),randomLimit:M.long(),hasOther:M.bool(!1),configure:M.string(""),showLabel:M.bool(!1),inapplicable:M.bool(!1),inapplicableLabel:M.string(""),labelLayout:M.string(""),showTags:M.bool(!1),_valid:M.bool(!0),_error:M.string(""),_skips:M.long(0),_visible:M.bool(!0),_index:M.long(0),_no:M.long(0),_titleTrim:M.string(""),_rawTitle:M.string(""),_value:M.any(null),_comment:M.any(null),_tags:M.any(null),_pipe_expressions:M.array(null)},V=(V=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(U),(U="symbol"==d(V)?V:String(V))in D?Object.defineProperty(D,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[U]=z,function(){s(t,i);var e=l(t);function t(i){return c(this,t),(i=e.call(this,i))._textTrim=f(i.text),i}return h(t)}()),G=(D="fields",z={id:(U=V).long(),code:V.string(""),text:V.string(""),value:V.string(""),visibleIf:V.string(""),sequence:V.long(0),isRequired:V.bool(!1),configure:V.string(""),comment:V.string(""),enableTextInput:V.bool(!1),isFix:V.bool(!1),_textTrim:V.string("")},G=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(D),(D="symbol"==d(G)?G:String(G))in U?Object.defineProperty(U,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):U[D]=z,function(){s(t,i);var e=l(t);function t(i){return c(this,t),e.call(this,i)}return h(t)}()),Q=(U="fields",z={id:(D=G).long(),expression:G.string(""),type:G.string(""),target:G.string("")},Q=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(U),(U="symbol"==d(Q)?Q:String(Q))in D?Object.defineProperty(D,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[U]=z,function(){s(t,i);var e=l(t);function t(i){return c(this,t),e.call(this,i)}return h(t)}()),B=(D="fields",z={id:(U=Q).long(),configure:Q.jsonstring("")},B=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(D),(D="symbol"==d(B)?B:String(B))in U?Object.defineProperty(U,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):U[D]=z,function(){s(t,i);var e=l(t);function t(i){return c(this,t),e.call(this,i)}return h(t)}());function F(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function Y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?F(Object(i),!0).forEach((function(t){var n,r=e,o=i[t];n=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==d(n)?n:String(n))in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}U="fields",z={id:(D=B).long(),num:B.number(),questionNames:B.array(),type:B.string(""),sortType:B.string("")},L=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(U),(U="symbol"==d(L)?L:String(L))in D?Object.defineProperty(D,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[U]=z;var J={page:I,question:M,survey:P,logic:G,random:B,channel:Q,question_item:V},H={MULTIPLE_CHOICES:function(){s(t,M);var e=l(t);function t(i){return c(this,t),e.call(this,i)}return h(t,[{key:"validate",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(!n(r(t.prototype),"validate",this).call(this,e))return!1;if(this.enableValidator&&"MULTIPLE_CHOICES"==this.type&&this._value)if(null!=this.minLength&&null!=this.maxLength){if(this.minLength>this._value.length||this.maxLength<this._value.length)return this.validateError("选项数量必须在 "+this.minLength+" - "+this.maxLength+" 个之间",e)}else{if(null!=this.minLength&&this.minLength>this._value.length)return this.validateError("选项数量至少 "+this.minLength+" 个",e);if(null!==this.maxLength&&this.maxLength<this._value.length)return this.validateError("选项数量不能超过 "+this.maxLength+" 个",e)}return this._valid=!0}}]),t}(),TEXT:function(){s(t,M);var e=l(t);function t(i){return c(this,t),e.call(this,i)}return h(t,[{key:"validate",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(!n(r(t.prototype),"validate",this).call(this,e))return!1;if(this.enableValidator&&"TEXT"==this.type&&this._value)if(null!=this.minLength&&null!=this.maxLength){if(this.minLength>this._value.length||this.maxLength<this._value.length)return this.validateError("答案长度必须在 "+this.minLength+" - "+this.maxLength+" 个字符之间",e)}else{if(null!=this.minLength&&this.minLength>this._value.length)return this.validateError("答案长度至少 "+this.minLength+" 个字符",e);if(null!==this.maxLength&&this.maxLength<this._value.length)return this.validateError("答案长度不能超过 "+this.maxLength+" 个字符",e)}return this._valid=!0}}]),t}()};function K(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)),n}function Z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach((function(t){var n,r=e,o=i[t];n=function(e){if("object"!=d(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if(t=t.call(e,"string"),"object"!=d(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t),(t="symbol"==d(n)?n:String(n))in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}D=e(147).version;var W={SurveyModel:P,SurveyService:function(){function e(t,i){c(this,e);var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.adapter=t,this.server=i,this.options=n,this.storage=new N(this.adapter),this.api=new T(this.adapter,this.server,this.options),this.sessions={},k("service",this),k("api",this.api),k("storage",this.storage),k("adapter",this.adapter)}return h(e,[{key:"downloadConfig",value:function(e,t){var i=this;return new Promise((function(n,r){i.api.downloadConfig(e,t).then((function(e){"COLLECTING"!=e.surveyStatus||"RECOVERY"!=e.channelStatus?r("问卷关闭"):e.doNotDisturb?r("开启免打扰配置，该问卷无法打开"):n(e)})).catch((function(e){r(e||"系统错误")}))}))}},{key:"embedBySendToken",value:function(e){var t=this;if(e)return new Promise((function(i,n){t.api.embedBySendToken(e).then((function(e){i(e)})).catch((function(e){n(e||"系统错误")}))}))}},{key:"loadSurveyFromServer",value:function(e,t,i){var n=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0,a=5<arguments.length?arguments[5]:void 0,s=this,l=i.reset||!0,u=this._buildCacheKey(e,"clientId"),c=this._buildCacheKey(e,"seed"),h=(l&&(this.storage.removeItem(u),this.storage.removeItem(c)),this.storage.ensureItem(u,function(){for(var e=[],t="0123456789abcdef",i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}())),d=this.storage.ensureItem(c,Math.floor(1e4*Math.random()));return new Promise((function(l,u){n.api.loadSurvey(e,t,h,r,o,i).then((function(o){if(o.doNotDisturb)throw"开启免打扰配置，该问卷无法打开";o=s.richTextRender(o),(o=i&&i.survey?Z(Z({},o),i.survey):o).questions=n.runRandomSeedQuestions(o,i,d),(o=n.loadSurveyFromJson(e,h,t,o,r,{seed:d})).surveyKey=a,l(o)})).catch((function(e){u(e||"系统错误")}))}))}},{key:"runRandomSeedQuestions",value:function(e,t,i){var n=e.questions||[],r=this.getGroupQuestionData(n)||[],a=(n=e.randoms||[],JSON.parse(JSON.stringify(e.questions)));if(0==n.length)this.sendRandomData([],[],a,r,t,e);else{var s=[],l=[],u=(0<(u=n.filter((function(e){return"GROUP"===e.type}))||[]).length&&u.forEach((function(e,t){var n=a.filter((function(t){return-1<e.questionNames.indexOf(t.name)})),u=e.num>=n.length?n.length:e.num,c=(u=C(i,n,e.id,u)).map((function(e){return e.name}))||[],h=(u=n.filter((function(e){return!c.includes(e.name)}))||[]).map((function(e){return e.name}))||[],d=(l=[].concat(o(l),o(h)),n=[],[]);0<u.length&&(d=(n=r.filter((function(e){return h.includes(e.groupCode)}))||[]).map((function(e){return e.name}))),s=[].concat(o(s),o(d),o(h))})),n.filter((function(e){return"QUESTION"==e.type}))||[]),c=[],h=[];0<u.length&&(u.forEach((function(e,t){var n=a.filter((function(t){return-1<e.questionNames.indexOf(t.name)})),r=e.num>=n.length?n.length:e.num,s=(r=C(i,n,e.id,r)).map((function(e){return e.name}));0<s.length&&e.sortType&&"RANDOM"===e.sortType&&c.push(s),n=(r=n.filter((function(e){return!s.includes(e.name)}))||[]).map((function(e){return e.name}))||[],h=[].concat(o(h),o(n))})),s=[].concat(o(s),o(h)),l=[].concat(o(l),o(h)));for(var d=r.length;d--;){var p=r[d];-1<s.indexOf(p.name)&&r.splice(d,1)}0<c.length&&(r=this.randomOrderQuestions(r,c)),this.sendRandomData(l,n,a,r,t,e)}return r}},{key:"randomOrderQuestions",value:function(e,t){for(var i=0;i<t.length;i++)e=this.renderOrderItem(t[i],e,i);return e}},{key:"getGroupQuestionData",value:function(e){var t=this.getGroupData(e)||[],i=[];if(0<t.length)if("GROUP"==t[0].type)for(var n=0;n<t.length;n++){var r=JSON.parse(JSON.stringify(t[n]));if(t[n].questions){delete r.questions,i.push(r);for(var o=t[n].questions,a=0;a<o.length;a++)i.push(o[a])}else i.push(r)}else for(var s=0;s<t.length;s++)i.push(t[s]);return i}},{key:"getGroupData",value:function(e){for(var t,i=[],n=0;n<e.length;n++)!function(){var r=e[n];"GROUP"===r.type?(t=e.filter((function(e){return e.groupCode===r.name})),r.questions=o(t),i.push(r)):r.groupCode&&e.find((function(e){return e.name===r.groupCode}))||i.push(r)}();return i}},{key:"renderOrderItem",value:function(e,t,i){var n=t.filter((function(t){return e.includes(t.name)})).map((function(e){return[e.code,e.name,e.groupCode]}))||[],r=this.getNewQorder(e,t),o=this.getOrderQMap(e,t);if(JSON.stringify(r)!==JSON.stringify(n))for(var a=0;a<r.length;a++){var s=o[n[a][1]].qindex,l=(o[n[a][1]].question,o[r[a][1]].question),u=n[a][1],c=r[a][1];l.groupCode=o[n[a][1]].groupCode,u!==c&&t.splice(s,1,l)}return t}},{key:"getNewQorder",value:function(){for(var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length?arguments[1]:void 0,n=[],r=0;r<t.length;r++)!function(r){(e=i.find((function(e){return e.name===t[r]}))||null)&&n.push([e.code,e.name,e.groupCode])}(r);return n}},{key:"getOrderQMap",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length?arguments[1]:void 0,i={};return 0<t.length&&t.forEach((function(t,n){e.includes(t.name)&&(i[t.name]={qindex:n,code:t.code,name:t.name,groupCode:t.groupCode,question:t})})),i}},{key:"sendRandomObj",value:function(e,t,i,n){var r=[];return e.forEach((function(e){e.questionNames.forEach((function(e){var o=-1===i.indexOf(e),a=n.find((function(t){return t.name==e}))||null;a&&r.push({questionId:a.id,type:t,isShow:o,code:a.code})}))})),r}},{key:"sendItemRandomObj",value:function(e){var t=[];return e.forEach((function(e){var i=e.items.map((function(e){return e.value}))||[],n=e.randomItems.map((function(e){return e.value}));i.forEach((function(i,r){i=-1<n.indexOf(i);var o=e.items[r].id;r=e.items[r].text;e&&t.push({questionId:e.id,itemId:o,itemText:r,type:"ITEM",isShow:i,code:e.code})}))})),t}},{key:"sendEvalItemRandomObj",value:function(e,t){var i=[];return e.forEach((function(e){var n=(o=e.items).map((function(e){return e.text}))||[],r=o.map((function(e){return e.id}))||[],o=t.find((function(t){return t.name==e.name})).items.map((function(e){return e.configure.split(",")}))||[],a=e.randomItems;o.forEach((function(t,o){var s=a[o];e&&s&&i.push({questionId:e.id,itemId:r[o],itemText:n[o],itemConfig:s,type:"ITEM",isShow:!0,code:e.code})}))})),i}},{key:"sendRandomData",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,s=5<arguments.length?arguments[5]:void 0,l=this,u=[],c=(0<i.length&&(e=i.filter((function(e){return"GROUP"===e.type})),i=i.filter((function(e){return"QUESTION"===e.type})),e=0<e.length?this.sendRandomObj(e,"GROUP",t,n):[],i=0<i.length?this.sendRandomObj(i,"QUESTION",t,n):[],u=[].concat(o(e),o(i))),setTimeout((function(){var e=(t=r||[]).filter((function(e){return"random"==e.itemsOrder&&e.randomItems&&0<e.randomItems.length&&["single_choice","multiple_choices","combobox"].includes(e.getType())})),t=t.filter((function(e){return"random"==e.itemsOrder&&e.randomItems&&0<e.randomItems.length&&["evaluation","score_evaluation"].includes(e.getType())}));return(0!=u.length||0!=e.length||0!=t.length)&&"preview"!=a.mode&&(e=l.sendItemRandomObj(e),t=l.sendEvalItemRandomObj(t,n),0!=(u=[].concat(o(u),o(e),o(t))).length)&&void l.api.sendRandomResult(s.id,s.responseId,u,(function(e){clearTimeout(c),c=null}))}),1e3))}},{key:"richTextRender",value:function(e){var t=["text"],i='<img class="rich-img" style="max-width:100%" ';return["abnormalConcludingRemark","concludingRemark"].forEach((function(t){var n;-1<e[t].indexOf("<img")&&((n=JSON.parse(e[t])).text=n.text.replace(/<img/g,i),e[t]=JSON.stringify(n))})),["title"].forEach((function(n){e.questions.forEach((function(r,o){-1<e.questions[o][n].indexOf("<img")&&(e.questions[o][n]=e.questions[o][n].replace(/<img/g,i)),0<e.questions[o].items.length&&e.questions[o].items.forEach((function(n,r){t.forEach((function(t){-1<e.questions[o].items[r][t].indexOf("<img")&&(e.questions[o].items[r][t]=e.questions[o].items[r][t].replace(/<img/g,i))}))}))}))})),e}},{key:"loadSurveyFromJson",value:function(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},s=(h(l,null,[{key:"buildSurvey",value:function(e,t,n){i.seed=t.seed||0;var r=(r=this.buildQuestions(e.questions)).filter((function(e){return["GROUP","SEPARATOR","TEXT","SINGLE_CHOICE","MULTIPLE_CHOICES","SCORE","EVALUATION","SCORE_EVALUATION","NPS"].includes(e.type)}));return(t=this.buildEntityByType("survey",e)).questions=r,e=this.resort(t.questions,t.pageMode).pages,t.pages=e,t._parameters=n,t.buildAll(),t}},{key:"buildQuestions",value:function(e){var t=this,i=[];return e.forEach((function(e){var n=H[e.type]||M;n=t.buildEntityByModel(n,e);i.push(n)})),i}},{key:"buildList",value:function(e,t){var i=this,n=[];return t.forEach((function(t,r){t=i.buildEntityByType(e,t),n.push(t)})),n}},{key:"buildEntityByType",value:function(e,t){return this.buildEntityByModel(e=J[e],t)}},{key:"buildEntityByModel",value:function(e,t){var i,n=this,r=Y(Y({},t),{});if(e)return i=e.fields,Object.keys(i).forEach((function(e){var o,a=i[e],s=t[e];s&&a&&a.target&&"references"===a.type&&(o=n.buildList(a.target,s),r[e]=o),s&&a&&a.target&&"reference"===a.type&&(o=n.buildEntityByType(a.target,s),r[e]=o)})),new e(r);throw"invalid model"}},{key:"splitByQuestionPerPage",value:function(e){var t=0,i=[];return e.forEach((function(e){for(var n=0;n<e.questions.length;n++){var r,o=e.questions[n];"SEPARATOR"!=o.type&&((r=new I({}))._index=t,r.id="page_"+t,r.code=o.code,r.name=o.name,r.visibleIf=e.visibleIf?o.visibleIf?e.visibleIf+" and "+o.visibleIf:e.visibleIf:o.visibleIf,r.questions=[o],i.push(r),t+=1)}})),i}},{key:"groupQuestion",value:function(e){var t=u(e.filter((function(e){return"GROUP"===e.type})),"name"),i={};return e.forEach((function(e){var n,r=e.groupCode;r&&(n=t[r],i[r]||(i[r]={id:n.id,title:n.title,name:n.name,sequence:n.sequence,visibleIf:n.visibleIf,questions:[]}),i[r].questions.push(e))})),(e=Object.values(i)).sort((function(e,t){return e.sequence-t.sequence})),e}},{key:"splitByStandard",value:function(e){var t=-1,i=[];return e.forEach((function(e){if(e.questions&&0<e.questions.length){for(var n=new I({}),r=[],o=0;o<e.questions.length;o++){var a=e.questions[o];"SEPARATOR"===a.type?0<r.length&&(t++,n.questions=r,n._index=t,n.code=e.code,n.visibleIf=e.visibleIf,n.name=e.name,n.id="page_"+t,n.questions=r,i.push(n),n=new I({}),r=[]):r.push(a)}0<r.length&&(t++,n.questions=r,n._index=t,n.code=e.code,n.visibleIf=e.visibleIf,n.name=e.name,n.id="page_"+t,i.push(n))}})),i}},{key:"resort",value:function(e,t){e=this.groupQuestion(e);var i=[],n=(e.forEach((function(e){for(var t=0;t<e.questions.length;t++)i.push(e.questions[t])})),[]);if("STANDARD"===t)n=this.splitByStandard(e);else{if("QUESTION_PER_PAGE"!==t)throw"invalid page mode "+t;n=this.splitByQuestionPerPage(e)}return n=n.filter((function(e){return 0<e.questions.length})),g(i),{pages:n,groups:e,questions:i}}}]),l.buildSurvey(r,a,o));function l(){c(this,l)}return this.startSession(s,t,n,s.responseId,o),setTimeout((function(){k("survey",s),w("load",s)}),1),s}},{key:"submit",value:function(e,t){var i=this,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r,o){i.api.sendResult(e,t).then((function(t){n&&i.finishSession(e),r(t)})).catch((function(e){o(e)}))}))}},{key:"distubUploadSend",value:function(e,t,i){this.api.distubUploadSend(e,{disturbMethod:t,responseId:i})}},{key:"startSession",value:function(e,t,i,n,r){this.sessions[e.id]={clientId:t,channelId:i,responseId:n,parameters:r}}},{key:"finishSession",value:function(e){var t=this._buildCacheKey(e,"clientId");this.storage.removeItem(t),t=this._buildCacheKey(e,"seed");this.storage.removeItem(t)}},{key:"_buildCacheKey",value:function(e,t){return e+"_"+t}}]),e}(),state:x,stateWatch:function(e,t){Object.defineProperty(x,e,{get:function(){return this.value},set:function(e){this.value=e,t(this.value)}})},subscribe:function(e,t){return-1==x.handlers.indexOf(e)&&(x.handlers.push(e),"show"==t)?(e=(new Date).getTime(),x.triggerIds.push(e),e):""},unsubscribe:function(e){var t;x.handlers.some((function(t){return t.name==e.name}))&&(x.handlers.some((function(i,n){i.name==e.name&&(t=n)})),x.handlers=x.handlers.filter((function(t){return t.name!=e.name})),x.triggerIds.splice(t,1))},unsubscribeall:function(){x.handlers=[],x.triggerIds=[]},trigger:w,version:D}}(),p;function e(n){var r=i[n];return void 0===r&&(r=i[n]={exports:{}},t[n](r,r.exports,e)),r.exports}var t,i,p},"object"==d(t)&&"object"==d(e)?e.exports=i():void 0!==(t="function"==typeof i?i.apply(t,[]):i)&&(e.exports=t)},2789:function(e,t,i){var n=i(6587).default;i(1539),uni.addInterceptor({returnValue:function(e){return!e||"object"!==n(e)&&"function"!=typeof e||"function"!=typeof e.then?e:new Promise((function(t,i){e.then((function(e){return e[0]?i(e[0]):t(e[1])}))}))}})},2502:function(e,t,i){"use strict";i.d(t,{u:function(){return l},z:function(){return s}});var n=i(686),r=i(1612),o=i(6613),a=(t=(i(2222),i(1539),i(6754)),i.n(t));function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"production";e=e||getApp();if(!e)throw"should run init in uniapp project";e.globalData._hy_options=t,console.debug("init with server "+i,t);var n=new u;n=new(a().SurveyService)(n,i,t);e.globalData._hy_state=a().state,e.globalData._hy_subscribe=a().subscribe,e.globalData._hy_unsubscribe=a().unsubscribe,window&&(window._hy_service=n),window&&(window._hy_state=a().state)}function l(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;console.debug("show survey surveyId:".concat(e,"; channelId:").concat(t,"; token:").concat(r,"; mode:").concat(i.mode,";")),a().trigger("show",{surveyId:e,channelId:t,options:i,params:n})}var u=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"request",value:function(e){return new Promise((function(t,i){uni.request((0,n.Z)((0,n.Z)({},e),{},{success:function(e){Array.isArray(e)?e[0]?i(e[0]):t(e[1]):t(e)}}))}))}},{key:"getStorageSync",value:function(e){return uni.getStorageSync(e)}},{key:"setStorageSync",value:function(e,t){return uni.setStorageSync(e,t)}},{key:"removeStorageSync",value:function(e){uni.removeStorageSync(e)}}]),e}()},9953:function(e,t,i){"use strict";i.r(t);var n=i(8081),r=(n=i.n(n),i(3645));r=i.n(r),i=i(2112),r=r()(n());r.i(i.Z),r.push([e.id,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t/*每个页面公共css */",""]),t.default=r},2112:function(e,t,i){"use strict";var n=i(8081),r=(n=i.n(n),i(3645)),o=(r=i.n(r),i(1667)),a=(o=i.n(o),new URL(i(7044),i.b)),s=new URL(i(7517),i.b),l=new URL(i(3010),i.b),u=new URL(i(3391),i.b),c=new URL(i(9819),i.b),h=new URL(i(6774),i.b),d=new URL(i(8755),i.b),p=new URL(i(9505),i.b),g=new URL(i(2610),i.b),f=new URL(i(617),i.b),v=new URL(i(7116),i.b),m=new URL(i(9839),i.b),y=new URL(i(8645),i.b),b=new URL(i(2686),i.b),x=new URL(i(3956),i.b),k=new URL(i(782),i.b),w=new URL(i(114),i.b),_=new URL(i(2046),i.b),O=new URL(i(5863),i.b),E=new URL(i(3161),i.b),A=new URL(i(9933),i.b);i=new URL(i(9002),i.b),r=r()(n()),n=o()(a),a=o()(s),s=o()(l),l=o()(u),u=o()(c),c=o()(h),h=o()(d),d=o()(p),p=o()(g),g=o()(f),f=o()(v),v=o()(m),m=o()(y),y=o()(b),b=o()(x),x=o()(k),k=o()(w),w=o()(_),_=o()(O),O=o()(E),E=o()(A),A=o()(i);r.push([e.id,'@charset "UTF-8";\n/* monitor.vue */body, html{height:100%}body{overflow-x:hidden}uni-page-body{height:100%}.bridge{position:relative;height:100%;overflow:hidden;overflow-y:auto}.hy-survey-index.popup,\n.hy-survey-index.hy-app,\n.hy-survey-embed-index.bridge{height:100%}.hy-app .hy-survey-wrap{height:auto}.hy-survey-index.hy-app .half-screen-survey{width:100%}.hy-wx-dialog_c{display:flex;justify-content:center}.hy-wx-dialog_c .hy-wx-mask{position:fixed;top:0;right:0;left:0;bottom:0;z-index:10;overflow:hidden}.hy-wx-dialog_c .hy-wx-mask{background:rgba(0,0,0,.3)}.hy-wx-dialog_c .hy-wx-dialog{position:fixed;z-index:10000!important;background-color:#fff;text-align:center;border-radius:8px;overflow:hidden;display:flex;justify-content:center;width:100%}.hy-wx-dialog.show-border{box-shadow:1px 0 5px #ddd9d9}.hy-survey-wrap .hy-wx-close{position:absolute;z-index:1000;right:0;top:0;width:30px;height:30px;line-height:30px;overflow:hidden;font-size:20px;text-align:center;vertical-align:middle;cursor:pointer;font-family:Avenir,Helvetica,Arial,sans-serif;background:url('+n+') no-repeat;background-size:10px 10px;background-position:50%}.hy-wx-dialog_c.half-screen-monitor .hy-wx-close,\n.bridge.half-screen-bridge .hy-wx-close{width:32px;height:32px;line-height:32px}.hy-wx-dialog_c .dialog_center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.hy-wx-dialog_c .dialog_bottom{bottom:0}.hy-wx-dialog_c .dialog_top{top:0}.hy-wx-dialog_c .wx-dialog-title{font-size:10px;padding:15px 15px 10px}.hy-wx-dialog_c .hy-wx-dialog-ct{width:100%}\n\n/* survey.vue */.flex-center{display:flex;align-items:center;justify-content:center;text-align:center}.survey-loading-view{position:fixed;left:0;top:0;bottom:0;right:0;background:transparent;z-index:1000000}.hy-survey-wrap{position:relative;top:0;bottom:0;overflow:hidden;padding-top:30px;padding-bottom:50px;box-sizing:border-box}.hy-survey-wrap.no-brand{padding-bottom:30px}.hy-survey-wrap.inject-3-mode,\n.hy-app .hy-survey-wrap{padding-top:20px;padding-bottom:10px}.hy-survey-wrap.inject-3-mode.no-brand{padding-bottom:20px}.hy-survey-wrap.mp{height:100%\n  /* web端不支持，小程序端支持 */}.sv-loading{position:fixed;left:0;top:0;bottom:0;right:0;z-index:1000}.sv-loading .out-div{position:relative;height:100%;text-indent:10px;z-index:1100}.sv-loading .out-div::before{content:"";position:absolute;left:50%;top:50%;width:20px;height:20px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:url('+a+') no-repeat;background-size:20px 20px;-webkit-animation-name:rotate;-webkit-animation-duration:1.5s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear}.hy-survey{height:100%;overflow:hidden;font-family:system-ui,-apple-system,BlinkMacSystemFont,DIN Alternate,Helvetica Neue,Segoe UI,Helvetica,Arial,PingFang SC,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif}.hy-survey.survey-completed{min-height:200px}.hy-survey.hide{min-height:0}.hy-survey .survey-pages{position:relative;width:100%;height:auto;overflow:hidden;padding-bottom:1px}.hide-btn .hy-survey .survey-pages{min-height:calc(100% - 84px)}.no-brand .hy-survey .survey-pages{min-height:calc(100% - 26px)}.no-brand.hide-btn .hy-survey .survey-pages{min-height:100%}.no-brand.hide-btn .hy-survey .survey-pages .question:last-child{margin-bottom:20px}.half-screen-survey.no-brand.hide-btn .hy-survey .survey-pages .question:last-child{margin-bottom:0}.hy-survey-wrap.half-screen-survey.no-brand.hide-btn{padding-bottom:8px}.hy-survey-wrap.half-screen-survey.no-brand{padding-bottom:16px}.hy-survey .pages-row{margin-bottom:0}.hy-survey .survey-actions{position:relative;height:46px;text-align:center;margin-top:32px}.half-screen-survey .hy-survey .survey-actions{margin-top:12px!important;height:30px!important}.half-screen-survey .hy-survey .survey-actions .action{height:30px!important;line-height:30px!important;font-size:14px!important}.hy-survey-wrap.inject-3-mode .survey-actions{margin-top:30px}.hy-survey .survey-actions .action{width:calc(50% - 30px);height:46px;line-height:46px;font-size:18px;border-radius:4px;font-weight:400;margin-top:0}.inject-3-mode .hy-survey .survey-actions .action{height:32px;line-height:32px;font-size:16px;width:100px}.half-screen-survey .hy-survey .survey-actions .action{width:calc(50% - 15px);height:46px;border-radius:20px;line-height:46px;padding:0;text-align:center}.hy-survey .survey-actions .previous{position:absolute;left:20px;color:#333}.inject-3-mode .hy-survey .survey-actions .previous{left:calc(50% - 5px - 100px)}.half-screen-survey .hy-survey .survey-actions.two-btn .previous{left:10px}.hy-survey .survey-actions .action:after{border:none}.hy-survey .survey-actions .next,\n.hy-survey .survey-actions .submit{position:absolute;right:20px}.inject-3-mode .hy-survey .survey-actions .next,\n.inject-3-mode .hy-survey .survey-actions .submit{right:calc(50% - 5px - 100px)}.inject-3-mode .hy-survey .survey-actions.only-one-btn .submit{right:unset}.inject-3-mode .hy-survey .survey-actions.only-one-btn .next{right:0}.half-screen-survey .hy-survey .survey-actions .next,\n.half-screen-survey .hy-survey .survey-actions .submit,\n.half-screen-survey .hy-survey .survey-actions.two-btn .next{right:10px}.hy-survey .survey-actions .exclusive{position:relative;right:auto;margin:auto;width:calc(100% - 2.5rem)}.inject-3-mode .hy-survey .survey-actions{height:32px}.inject-3-mode .hy-survey .survey-actions .exclusive{width:100px;height:32px;line-height:32px;font-size:16px;color:#fff}.half-screen-survey .hy-survey .survey-actions.only-one-btn .action{width:calc(100% - 20px);right:0}.hy-survey .survey-actions .next.btn_loading,\n.hy-survey .survey-actions .submit.btn_loading{text-indent:20px}.half-screen-survey .hy-survey .survey-actions .btn_loading::before{top:8px}.hy-survey .survey-actions .btn_loading::before{content:"";position:absolute;top:16px;width:14px;height:14px;background:url('+s+') no-repeat;background-size:14px 14px;-webkit-animation-name:rotate;-webkit-animation-duration:1.5s;-webkit-animation-iteration-count:infinite;-webkit-animation-timing-function:linear}.inject-3-mode .hy-survey .survey-actions .next.btn_loading, .inject-3-mode .hy-survey .survey-actions .submit.btn_loading{text-indent:0}.inject-3-mode .hy-survey .survey-actions .btn_loading::before{top:9px}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}.hy-survey .only-one-btn .next.btn_loading::before, .hy-survey .only-one-btn .submit.btn_loading::before{content:"";left:calc(50% - 40px)}.hy-survey .two-btn .next.btn_loading::before{content:"";left:calc(50% - 35px)}.hy-survey .two-btn .submit.btn_loading::before{content:"";left:calc(50% - 28px)}.survey-footer{width:100%;text-align:center;height:20px;overflow:hidden;padding-top:20px;padding-bottom:10px}.survey-footer .footer-logo{margin:auto;width:100%;height:20px;background-position:top;background-repeat:no-repeat}.survey-footer .logo-view{line-height:0px;padding-bottom:10px}.survey-footer .footer-logo.default-logo{background-image:url('+l+");background-size:auto 20px;background-position:top}.survey-footer .footer-logo.default-logo.lynkco-default-logo{background-image:url("+u+')}.sv-scroll-view{height:100%}.hy-survey .hy-finish{padding:3rem}.hy-finish .text-error,\n.no-question-error{text-align:center}.hy-finish .text-error img,\n.no-question-error img{width:100px;height:82px}.hy-finish .text-error .remark,\n.no-question-error .remark{color:#999;margin-top:5px;font-size:1rem}.uni-input-placeholder,\n.uni-textarea-placeholder{font-size:16px;line-height:24px;font-weight:400;color:#999}.inject-3-mode .uni-input-placeholder,\n.inject-3-mode .uni-textarea-placeholder{font-size:14px}\n\n/* survey_page.vue */.hy-sv-page .question{margin:0 20px 28px}.hy-sv-page .question:last-child{margin-bottom:0}.half-screen-survey .hy-sv-page .question{margin:0 10px 20px}.half-screen-survey .hy-sv-page .question:first-child{margin-top:2px}.half-screen-survey .hy-sv-page .question:last-child{margin-bottom:12px}.hy-sv-page .hy-q-title{display:flex;flex-direction:row;text-align:left;min-height:14px;font-size:18px;line-height:26px;margin-bottom:16px;font-weight:400}.hy-sv-page .hy-q-title .index{margin-right:4px;font-weight:400}.hy-sv-page .hy-q-title .required{color:red;font-weight:700}.hy-sv-page .hy-q-title .label{font-size:18px;line-height:26px;font-weight:400;flex:1}.inject-3-mode .hy-sv-page .hy-q-title,\n.inject-3-mode .hy-sv-page .hy-q-title .label{font-size:16px;line-height:24px}.inject-3-mode .hy-sv-page .hy-q-title{margin-bottom:12px}.hy-sv-page .hy-q-title.n-column-title{margin-bottom:6px}.inject-3-mode .hy-sv-page .hy-q-title.n-column-title{margin-bottom:2px}.half-screen-survey .hy-sv-page .hy-q-title{margin-bottom:12px}.half-screen-survey .hy-sv-page .hy-q-title,\n.half-screen-survey .hy-sv-page .hy-q-title .label{font-size:14px;line-height:22px;font-weight:700}.half-screen-survey .hy-sv-page .hy-q-title .index{font-weight:700}.half-screen-survey .hy-sv-page .hy-q-error{font-size:10px}.half-screen-survey .hy-sv-page .hy-q-error .icon{width:8px!important;height:8px!important}.hy-sv-page .hy-q-error{text-align:left;color:red;font-size:12px;line-height:20px;margin-bottom:10px;margin-top:-10px}.inject-3-mode .hy-sv-page .hy-q-error{margin-top:0;margin-bottom:6px}.hy-sv-page .hy-q-error .icon{width:12px;height:12px;vertical-align:-1px;margin-right:3px}\n\n/* question_text.vue */.hy-text .text{text-align:left;color:#333;border:1px solid #e8ebed;border-radius:4px;line-height:24px;font-size:16px;background:#fff;text-align:left}.inject-3-mode .hy-text .text{line-height:22px;font-size:14px}.hy-text .text.input{height:24px;padding:8px 10px;box-sizing:initial}.inject-3-mode .hy-text .text.input{height:22px}.hy-text .text.textarea{width:100%;padding:10px;height:100px;box-sizing:border-box;resize:none}.hy-text .placehoder-s{color:#999;text-align:left}.hy-text.half-screen-question .text{background:#f7fafb;border:none}.hy-text.half-screen-question .text.textarea{border-radius:8px}\n\n/* question_single_choice.vue */.hy-single-choice .radio-group{width:100%}.hy-single-choice.default-question .radio-i{border-bottom:1px solid #f6f6f6}.hy-single-choice.default-question .radio-i:first-child{border-top:1px solid #f6f6f6}.hy-single-choice .radio-i-row{display:flex;flex-direction:row;text-align:left}.hy-single-choice .radio-i-label{flex:1;padding:12px 0;font-size:16px;line-height:24px}.hy-single-choice.tag-item .radio-i-label,\n.hy-single-choice.column-and-tag .radio-i-label{padding:9px 0}.inject-3-mode .hy-single-choice.tag-item .radio-i-label,\n.inject-3-mode .hy-single-choice.column-and-tag .radio-i-label{padding:7px 0}.hy-single-choice.n-column .radio-i-label,\n.hy-single-choice.tag-item .checked .radio-i-label,\n.hy-single-choice.column-and-tag .checked .radio-i-label{padding:8px 0}.inject-3-mode .hy-single-choice.n-column .radio-i-label,\n.inject-3-mode .hy-single-choice.tag-item .checked .radio-i-label,\n.inject-3-mode .hy-single-choice.column-and-tag .checked .radio-i-label{padding:6px 0}.hy-single-choice .radio-i-text{display:block;line-height:24px}.inject-3-mode .hy-single-choice .radio-i-label{font-size:14px;line-height:20px;padding:13px 0}.inject-3-mode .radio-item-w{margin:15px 10px 0 0}.inject-3-mode .hy-single-choice .radio-i-text{line-height:22px}.hy-single-choice .radio-i-text div,\n.hy-multiple-choice .ck-l-text div{word-wrap:break-word;word-break:break-all}.hy-single-choice.n-column .radio-group{display:flex;flex-flow:row wrap}.hy-single-choice.n-column .radio-i{border-radius:4px;display:flex;flex-direction:row;border:none!important}.hy-single-choice.n-column .radio-i-row{flex:1;align-items:flex-start;border:1px solid #e8ebed;padding:0 10px;border-radius:4px}.hy-single-choice.n-column .radio-i.checked{display:flex;flex-direction:column}.hy-single-choice.n-column .radio-i.checked .radio-i-row{flex:1;border-radius:4px}.hy-single-choice.n-column .radio-i.checked .item-text-input{width:100%;height:42px;margin-top:10px}.hy-single-choice.n-column .radio-i.checked .item-text-input .required{display:none}.hy-single-choice.column-and-tag .radio-group{display:flex;flex-direction:column;flex-flow:row wrap}.hy-single-choice.column-and-tag .radio-i,\n.hy-single-choice.tag-item .radio-i{border:none;border-radius:4px;display:flex;flex-direction:row;border:none!important;padding:0 16px}.hy-single-choice.tag-item .radio-i{margin-top:10px}.hy-single-choice.column-and-tag .radio-i-row,\n.hy-single-choice.tag-item .radio-i-row{flex:1}.hy-single-choice.column-and-tag .radio-i-label,\n.hy-single-choice.tag-item .radio-i-label{display:flex;flex-direction:column;align-items:center;justify-content:center}.hy-single-choice.column-and-tag .radio-i-text,\n.hy-single-choice.tag-item .radio-i-text{text-align:center}.hy-single-choice.tag-item .radio-i-label .radio-i-text{display:flex;align-items:center}.hy-single-choice.column-and-tag .radio-i.checked,\n.hy-single-choice.tag-item .radio-i.checked{display:flex;flex-direction:column;padding:0}.hy-single-choice.column-and-tag .radio-i.checked .radio-i-row,\n.hy-single-choice.tag-item .radio-i.checked .radio-i-row{flex:1;border-radius:4px;padding:0 16px}.hy-single-choice.column-and-tag .radio-i.checked .item-text-input,\n.hy-single-choice.tag-item .radio-i.checked .item-text-input{height:42px;margin-top:8px}.hy-single-choice.n-column .radio-i,\n.hy-single-choice.column-and-tag .radio-i{display:flex;width:calc((100% - 10px) / 2);box-sizing:border-box;margin-top:10px;height:100%;border:none!important}.hy-single-choice.n-column.item-column-three .radio-i,\n.hy-single-choice.column-and-tag.item-column-three .radio-i{display:flex;width:calc((100% - 20px) / 3);box-sizing:border-box;margin-top:10px;height:100%}.hy-single-choice.n-column.item-column-two .radio-i:nth-child(odd),\n.hy-single-choice.column-and-tag.item-column-two .radio-i:nth-child(odd){margin-right:10px}.hy-single-choice.n-column.item-column-three .radio-i:nth-child(3n-1),\n.hy-single-choice.column-and-tag.item-column-three .radio-i:nth-child(3n-1){margin-right:10px;margin-left:10px}.hy-single-choice.n-column .radio-item-w{margin:11px 10px 11px 0}.inject-3-mode .hy-single-choice.n-column .radio-item-w{margin:8px 10px 8px 0}.hy-single-choice.column-and-tag .radio-item-w{margin:10px 10px 10px 0}.hy-single-choice.n-column .radio-i-label,\n.hy-single-choice.column-and-tag .radio-i-label{padding:9px 0}.hy-single-choice.column-and-tag .radio-i-label .radio-i-text{display:flex;align-items:center}.hy-single-choice.half-screen-question .radio-i{display:block;padding:4px 10px 4px 10px;border-radius:30px;background-color:#f9fafb;margin-bottom:8px;border-width:1px;border-style:solid}.hy-single-choice.half-screen-question .radio-i-row{display:block;word-break:break-all}.hy-single-choice.half-screen-question .radio-i-label{width:100%;padding:0;font-size:12px;line-height:20px;min-height:32px}.hy-single-choice.half-screen-question .radio-i-text{line-height:20px;text-align:center}\n\n/* question_score.vue */.hy-score{display:flex;flex-direction:column}.hy-score .score-label{height:auto;font-size:12px;display:flex;padding-bottom:13px;justify-content:space-between;overflow:hidden}.hy-score .score-label-l{display:block;display:inline-block;border-radius:4px;padding:2px 9px;font-size:12px;line-height:20px;max-width:35vw;position:relative;background-color:#e8eef4;text-align:left}.hy-score .score-label-l:first-child::before{display:inline-block;width:6px;height:6px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:#e8eef4;position:absolute;left:-3px;bottom:-3px;content:"";background-color:var(--scoreLabelBgColor,"#e8eef4")}.hy-score .score-label-l:last-child::after{display:inline-block;width:6px;height:6px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:#e8eef4;position:absolute;right:-3px;bottom:-3px;content:"";background-color:var(--scoreLabelBgColor,"#e8eef4")}.hy-score .score-label-l .label-text{display:block;line-height:20px}.hy-score .q-score{display:flex;justify-content:space-between;background-color:#e8eef4;border-radius:4px;overflow:hidden}.hy-score .q-score.Number .q-score-i{position:relative;height:36px;line-height:36px;font-size:16px;text-align:center;cursor:pointer;border-radius:4px;flex:1}.inject-3-mode .hy-score .q-score.Number .q-score-i{font-size:14px}.hy-score .q-score.Number .q-score-i::after{content:"";display:inline-block;width:1px;height:14px;background-color:#d9e0e8;position:absolute;right:0;top:11px}.hy-score .q-score.Number .q-score-i:last-child::after{display:none}.hy-score .q-score.Number .item_left{border-top-right-radius:0;border-bottom-right-radius:0}.hy-score .q-score.Number .item_mid{border-radius:0}.hy-score .q-score.Number .item_right{border-top-left-radius:0;border-bottom-left-radius:0}.hy-score .q-score.Number .item_right::after{display:none}.hy-score .q-score.Number .active{color:#fff;border:none}.hy-score .q-score.Number .active.item_left{border-top-right-radius:0;border-bottom-right-radius:0}.hy-score .q-score.Number .active.item_left.item_right{border-radius:4px}.hy-score .q-score.Number .active.item_mid{border-radius:0}.hy-score .q-score.Number .active.item_right{border-top-left-radius:0;border-bottom-left-radius:0}.hy-score .q-score.Number .active.item_right.item_mid{border-radius:4px;border-top-left-radius:0;border-bottom-left-radius:0}.hy-score .not-Number{flex-direction:row;justify-content:space-between;background-color:initial;border-radius:0}.hy-score .not-Number .eval-emo{display:inline-block;width:32px;height:32px;background-size:32px 32px}.hy-score .not-Number .eval-emo.star{background-image:url('+c+")}.hy-score .not-Number .eval-emo.star_active{background-image:url("+h+")}.hy-score .not-Number .eval-emo.icon{background-image:url("+d+")}.hy-score .not-Number .eval-emo.icon_active{background-image:url("+p+")}.hy-score .not-Number .eval-emo.like{background-image:url("+g+")}.hy-score .not-Number .eval-emo.like_active{background-image:url("+f+")}.hy-score .q-inapplicable{margin-top:12px}.hy-score .q-in-label{display:inline-block;text-align:left;width:calc(100% - 28px);line-height:24px;font-size:16px}.hy-score .q-inapplicable .ck-i-s-wrap{margin-top:3px}\n\n/* question_score_evalution */.hy-score-eval{display:block}.hy-score-eval .show-images,\n.hy-score-eval .show-texts{display:flex;flex-direction:row}.hy-score-eval .q-image-i,\n.hy-score-eval .q-text-i{flex:1;text-align:center}.hy-score-eval .q-image-i{height:32px;overflow:hidden}.hy-score-eval .eval-emo,\n.hy-score-eval .eval-emo{width:32px;height:32px;background-size:32px 32px}.hy-score-eval .eval-emo.star{background-image:url("+c+")}.hy-score-eval .eval-emo.star_active{background-image:url("+h+")}.hy-score-eval .eval-emo.icon{background-image:url("+d+")}.hy-score-eval .eval-emo.icon_active{background-image:url("+p+")}.hy-score-eval .eval-emo.like{background-image:url("+g+")}.hy-score-eval .eval-emo.like_active{background-image:url("+f+")}.hy-score-eval .eval-desc{line-height:24px;font-size:16px;font-weight:500;text-align:center}.inject-3-mode .hy-score-eval .eval-desc{line-height:22px;font-size:14px}.hy-score-eval .show-texts{margin-top:8px;margin-bottom:16px}.hy-evalution .eval-img-i .eval-text-i{margin-top:10px}.hy-evalution.half-screen-question .eval-img-i .eval-text-i{margin-top:0;padding-left:8px;text-align:left;height:20px;line-height:20px}.hy-score-eval .show-tags{display:flex;flex-wrap:wrap;justify-content:space-between;align-content:flex-start}.hy-evalution .show-tags,\n.hy-score-eval .show-tags{margin-top:16px}.hy-score-eval .q-tag-i{width:calc(50% - 5px);padding:9px 11px;box-sizing:border-box;margin-bottom:10px;border:1px solid;border-radius:4px;font-size:14px;line-height:22px;word-break:break-all}.inject-3-mode .hy-score-eval .q-tag-i{padding:4px 10px;font-size:12px;line-height:20px}.hy-score-eval .q-tag-i .rich-text{text-align:center}.hy-score-eval .q-tag-i .item-view{height:42px;line-height:42px}.hy-score-eval .adaptive-tag{justify-content:normal}.hy-score-eval .adaptive-tag .q-tag-i{flex:0 1 auto;width:auto;max-width:100%;margin-right:10px}.hy-score-eval .eval-area{width:100%;height:100px;border-radius:4px;padding:10px;line-height:24px;font-size:16px;text-align:left;box-sizing:border-box}.inject-3-mode .hy-score-eval .eval-area{line-height:22px;font-size:14px}\n\n/* question_multiple_choice.vue */.half-screen-survey .hy-single-choice,\n.half-screen-survey .hy-multiple-choice{margin-top:0}.hy-multiple-choice.default-question .ck-i{border-bottom:1px solid #f6f6f6}.hy-multiple-choice.default-question .ck-i:first-child{border-top:1px solid #f6f6f6}.hy-multiple-choice .ck-i-row{display:flex;flex-direction:row;text-align:left}.hy-multiple-choice .ck-label{flex:1;padding:12px 0;font-size:16px}.hy-multiple-choice .ck-l-text{display:block;line-height:24px}.inject-3-mode .hy-multiple-choice .ck-label{font-size:14px;padding:13px 0}.inject-3-mode .hy-multiple-choice .ck-l-text{line-height:22px}.hy-multiple-choice.n-column .ck-group{display:flex;flex-flow:row wrap}.hy-multiple-choice.n-column .ck-i{border-radius:4px;display:flex;flex-direction:row;border:none!important}.hy-multiple-choice.n-column .ck-i-row{flex:1;align-items:flex-start;border:1px solid #e8ebed;padding:0 10px;border-radius:4px}.hy-multiple-choice.n-column .ck-l-text{text-align:left}.hy-multiple-choice.n-column .ck-i.checked{display:flex;flex-direction:column}.hy-multiple-choice.n-column .ck-i.checked .ck-i-row{flex:1;border-radius:4px}.hy-multiple-choice.n-column .ck-i.checked .item-text-input{height:42px;width:100%;margin-top:10px}.hy-multiple-choice.n-column .ck-i.checked .item-text-input .required{display:none}.hy-multiple-choice.column-and-tag .ck-group{display:flex;flex-direction:column;flex-flow:row wrap}.hy-multiple-choice.column-and-tag .ck-i,\n.hy-multiple-choice.tag-item .ck-i{border:none!important;border-radius:4px;display:flex;flex-direction:row;padding:0 8px}.hy-multiple-choice.tag-item .ck-i{margin-top:10px}.hy-multiple-choice.column-and-tag .ck-i-row,\n.hy-multiple-choice.tag-item .ck-i-row{flex:1}.hy-multiple-choice.column-and-tag .ck-label,\n.hy-multiple-choice.tag-item .ck-label{display:flex;flex-direction:column;align-items:center;justify-content:center}.hy-multiple-choice.column-and-tag .ck-l-text,\n.hy-multiple-choice.tag-item .ck-l-text{text-align:center}.hy-multiple-choice.tag-item .ck-label .ck-l-text{display:flex;align-items:center}.hy-multiple-choice.column-and-tag .ck-i.checked,\n.hy-multiple-choice.tag-item .ck-i.checked{display:flex;flex-direction:column;padding:0}.hy-multiple-choice.column-and-tag .ck-i.checked .ck-i-row,\n.hy-multiple-choice.tag-item .ck-i.checked .ck-i-row{flex:1;border-radius:4px;padding:0 8px}.hy-multiple-choice.column-and-tag .ck-i.checked .item-text-input,\n.hy-multiple-choice.tag-item .ck-i.checked .item-text-input{margin-top:8px}.hy-multiple-choice.n-column.item-column-two .ck-i,\n.hy-multiple-choice.column-and-tag.item-column-two .ck-i{display:flex;width:calc((100% - 10px) / 2);box-sizing:border-box;margin-top:10px;height:100%}.hy-multiple-choice.n-column.item-column-three .ck-i,\n.hy-multiple-choice.column-and-tag.item-column-three .ck-i{display:flex;width:calc((100% - 20px) / 3);box-sizing:border-box;margin-top:10px;height:100%}.hy-multiple-choice.n-column.item-column-two .ck-i:nth-child(odd),\n.hy-multiple-choice.column-and-tag.item-column-two .ck-i:nth-child(odd){margin-right:10px}.hy-multiple-choice.n-column.item-column-three .ck-i:nth-child(3n-1),\n.hy-multiple-choice.column-and-tag.item-column-three .ck-i:nth-child(3n-1){margin-right:10px;margin-left:10px}.hy-multiple-choice.n-column .ck-i-s-wrap{margin:11px 10px 11px 0}.inject-3-mode .hy-multiple-choice.n-column .ck-i-s-wrap{margin:8px 10px 8px 0}.hy-multiple-choice.column-and-tag .ck-i-s-wrap{margin:10px 10px 10px 0}.inject-3-mode .hy-multiple-choice.column-and-tag .ck-i-s-wrap{margin:4px 10px 4px 0}.hy-multiple-choice.tag-item .ck-label,\n.hy-multiple-choice.column-and-tag .ck-label{padding:9px 0}.inject-3-mode .hy-multiple-choice.tag-item .ck-label,\n.inject-3-mode .hy-multiple-choice.column-and-tag .ck-label{padding:7px 0}.hy-multiple-choice.n-column .ck-label,\n.hy-multiple-choice.tag-item .checked .ck-label,\n.hy-multiple-choice.column-and-tag .checked .ck-label{padding:8px 0}.inject-3-mode .hy-multiple-choice.n-column .ck-label,\n.inject-3-mode .hy-multiple-choice.tag-item .checked .ck-label,\n.inject-3-mode .hy-multiple-choice.column-and-tag .checked .ck-label{padding:6px 0}.hy-multiple-choice.column-and-tag .ck-label .ck-l-text{display:flex;align-items:center}.hy-multiple-choice.n-column.half-screen-question .ck-group{display:block}.hy-multiple-choice.half-screen-question .ck-i{display:block;padding:4px 10px 4px 10px;border-radius:30px;background-color:#f9fafb;margin-bottom:8px;border-width:1px;border-style:solid}.hy-multiple-choice.half-screen-question .ck-label{width:100%;padding:0;font-size:12px;line-height:20px;word-break:break-all}.hy-multiple-choice.half-screen-question .ck-l-text{line-height:20px;text-align:center}\n\n/* question_evalution.vue */.hy-evalution{display:block}.hy-evalution .show-images,\n.hy-evalution .show-texts{display:flex;flex-direction:row}.half-screen-survey .hy-evalution .show-images{flex-direction:column}.hy-evalution.half-screen-question .eval-emo{width:18px;height:18px;background-size:18px 18px;margin-top:1px}.half-screen-survey .hy-evalution .show-texts,\n.half-screen-survey .hy-evalution .show-tags,\n.half-screen-survey .hy-evalution .eval-area{display:none}.hy-evalution .eval-img-i,\n.hy-evalution .eval-text-i{flex:1;text-align:center}.half-screen-survey .hy-evalution .eval-img-i{display:flex;flex-direction:row;text-align:center;padding:4px 10px 4px 13%;border-radius:30px;background-color:#f9fafb;margin-bottom:8px;border:1px solid #f9fafb}.half-screen-survey .hy-evalution .eval-img-i.active{border-width:1px;border-style:solid}.half-screen-survey .hy-evalution .eval-img-i:last-child{margin-bottom:0}.hy-evalution .eval-img-i{height:32px}.hy-evalution .with-text .eval-img-i{height:auto}.hy-evalution .eval-emo{width:32px;height:32px;background-size:32px 32px;border-radius:16px}.hy-evalution .eval-emo.eval-shadow{box-shadow:0 4px 4px rgba(255,197,0,.25)}.hy-evalution .index-0{background-image:url("+v+")}.hy-evalution .index-0.eval-shadow{background-image:url("+m+")}.hy-evalution .index-1{background-image:url("+y+")}.hy-evalution .index-1.eval-shadow{background-image:url("+b+")}.hy-evalution .index-2{background-image:url("+x+")}.hy-evalution .index-2.eval-shadow{background-image:url("+k+")}.hy-evalution .index-3{background-image:url("+w+")}.hy-evalution .index-3.eval-shadow{background-image:url("+_+")}.hy-evalution .index-4{background-image:url("+O+")}.hy-evalution .index-4.eval-shadow{background-image:url("+E+")}.hy-evalution .eval-desc,\n.inject-3-mode .hy-evalution .eval-desc,\n.inject-3-mode .hy-evalution.seleted-show .eval-desc{line-height:22px;font-size:14px;font-weight:400}.half-screen-survey .hy-evalution .show-images .eval-text-i .eval-desc{display:inline-block;width:90%;padding:0;line-height:22px;overflow:hidden;text-overflow:ellipsis}.hy-evalution.seleted-show .eval-desc{line-height:24px;font-size:16px;font-weight:500}.hy-evalution .show-texts{margin-top:10px;margin-bottom:16px}.hy-evalution .show-texts.hide{display:none}.hy-evalution .eval-img-i .eval-text-i.active{margin-top:8px}.hy-evalution.half-screen-question .eval-img-i .eval-text-i,\n.hy-evalution.half-screen-question .eval-img-i.active .eval-text-i{margin-top:0;font-size:0}.hy-evalution .eval-img-i .eval-text-i.active .eval-desc{line-height:22px;font-size:14px;font-weight:500}.hy-evalution .eval-img-i .eval-text-i{margin-top:8px}.hy-evalution.half-screen-question .eval-img-i .eval-text-i .eval-desc{font-size:12px;line-height:20px}.half-screen-survey .hy-evalution .eval-img-i.active .eval-text-i .eval-desc{line-height:20px;color:#3181f6}.hy-evalution .show-tags{display:flex;flex-wrap:wrap;justify-content:space-between;align-content:flex-start;margin-top:16px;margin-bottom:-10px}.hy-evalution .eval-tag-i{width:calc(50% - 5px);padding:9px 11px;box-sizing:border-box;margin-bottom:10px;border:1px solid;border-radius:4px;font-size:14px;line-height:22px;word-break:break-all}.inject-3-mode .hy-evalution .eval-tag-i{padding:4px 10px;font-size:12px;line-height:20px}.hy-evalution .rich-text{text-align:center}.hy-evalution .item-view{height:42px;line-height:42px}.hy-evalution .adaptive-tag{justify-content:normal}.hy-evalution .adaptive-tag .eval-tag-i{flex:0 1 auto;width:auto;max-width:100%;margin-right:10px}.hy-evalution .eval-area{width:100%;height:100px;border-radius:4px;padding:10px;line-height:24px;font-size:16px;text-align:left;box-sizing:border-box;margin-top:16px}.inject-3-mode .hy-evalution .eval-area{line-height:22px;font-size:14px}\n\n/* radio.vue */.radio-item-w{display:inline-block;width:18px;height:18px;margin:15px 10px 0 0}.radio-item-w .radio-input{position:relative;width:100%;height:100%;border:1px solid #dedede;outline:none;background-color:#fff;box-sizing:border-box;overflow:hidden;border-radius:100%}.radio-item-w .radio-input.checked{border:none}.radio-item-w .radio-input.checked .checked-view{position:absolute;left:6px;top:6px;width:6px;height:6px;border-radius:100%;background:#fff}\n\n/* item_text_input.vue */.hy-t-input{width:100%;display:flex;flex-direction:row;margin-bottom:12px;height:42px}.hy-t-input .required{color:red;width:16px;height:24px;line-height:24px;margin-right:10px;text-align:center}.hy-t-input .item-text{flex:1}.hy-t-input .text-input{width:calc(100% - 22px);text-align:left;background-color:#f8f9fb;color:#4d4d4d;border:1px solid #e8ebed;border-radius:4px;height:24px;line-height:24px;font-size:16px;background:#fff;padding:8px 10px;box-sizing:initial!important}.inject-3-mode .hy-t-input .text-input{height:22px;line-height:22px;font-size:14px}\n\n/* 选项为标签模式时，input前面不显示*号 */.hy-t-input.label-type{margin-bottom:0}.hy-t-input.label-type .required{display:none}\n\n/* ncolumn：多列模式 (原生小程序不支持外部组件传入className，此处统一处理)*/.hy-t-input.ncolumn{margin-bottom:0}.hy-t-input.ncolumn .required{margin-right:0}\n\n/* checkbox.vue */.ck-i-s-wrap{display:inline-block;width:18px;height:18px;margin-top:15px;margin-right:10px;float:left}.inject-3-mode .ck-i-s-wrap{margin-top:15px}.ck-i-s-wrap .ck-w-input{position:relative;width:100%;height:100%;border:1px solid #dedede;border-radius:4px;outline:none;background-color:#fff;box-sizing:border-box;overflow:hidden}.ck-i-s-wrap .checked{border:none}.ck-i-s-wrap .checked .ck-view{position:absolute;width:18px;height:18px;border-radius:100%;background:url("+A+') 50% no-repeat!important;background-size:18px auto}.by-q-score.ck-i-s-wrap{float:left;margin:3px 10px 3px 0}.inject1-item{height:40px;line-height:40px;background:rgba(0,0,0,.2);margin:5px 0}.hy-survey-index.popup .sv-scroll-view{overflow-y:auto}\n\n/* question_nps */\n/* question_evalution.vue */.hy-nps{display:block}.hy-nps .score-label{height:auto;font-size:12px;display:flex;padding-bottom:13px;justify-content:space-between;overflow:hidden}.hy-nps .score-label-l{display:block;display:inline-block;border-radius:4px;padding:2px 9px;font-size:12px;line-height:20px;max-width:35vw;position:relative;background-color:#e8eef4;text-align:left}.hy-nps .score-label-l:first-child::before{display:inline-block;width:6px;height:6px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:#e8eef4;position:absolute;left:-3px;bottom:-3px;content:"";background-color:var(--scoreLabelBgColor,"#e8eef4")}.hy-nps .score-label-l:last-child::after{display:inline-block;width:6px;height:6px;-webkit-transform:rotate(135deg);transform:rotate(135deg);background-color:#e8eef4;position:absolute;right:-3px;bottom:-3px;content:"";background-color:var(--scoreLabelBgColor,"#e8eef4")}.hy-nps .score-label-l .label-text{display:block;line-height:20px}.hy-nps .q-score{display:flex;justify-content:space-between;background-color:#e8eef4;border-radius:4px;overflow:hidden}.hy-nps .q-score.Number .q-score-i{position:relative;height:35px;line-height:35px;font-size:16px;text-align:center;cursor:pointer;flex:1}.inject-3-mode .hy-nps .q-score.Number .q-score-i{font-size:14px}.hy-nps .q-score.Number .q-score-i::after{content:"";display:inline-block;width:1px;height:14px;background-color:#d9e0e8;position:absolute;right:0;top:11px}.hy-nps .q-score.Number .q-score-i:last-child::after{display:none}.hy-nps .q-score.Number .item_left{border-top-right-radius:0;border-bottom-right-radius:0}.hy-nps .q-score.Number .item_mid{border-radius:0}.hy-nps .q-score.Number .item_right{border-top-left-radius:0;border-bottom-left-radius:0}.hy-nps .q-score.Number .item_right::after{display:none}.hy-nps .q-score.Number .active{color:#fff;border:none}.hy-nps .q-score.Number .active.item_left{border-top-right-radius:0;border-bottom-right-radius:0}.hy-nps .q-score.Number .active.item_left.item_right{border-radius:4px}.hy-nps .q-score.Number .active.item_mid{border-radius:0}.hy-nps .q-score.Number .active.item_right{border-top-left-radius:0;border-bottom-left-radius:0}.hy-nps .q-score.Number .active.item_right.item_mid{border-radius:4px;border-top-left-radius:0;border-bottom-left-radius:0}.hy-nps .show-images,\n.hy-nps .show-texts{display:flex;flex-direction:row}.hy-nps .eval-img-i,\n.hy-nps .eval-text-i{flex:1;text-align:center}.hy-nps .eval-emo{width:32px;height:32px;background-size:32px 32px;border-radius:16px}.hy-nps .eval-emo.eval-shadow{box-shadow:0 4px 4px rgba(255,197,0,.25)}.hy-nps .eval-desc{line-height:22px;font-size:14px;font-weight:400}.hy-nps.seleted-show .eval-desc{line-height:24px;font-size:16px;font-weight:500}.hy-nps .show-texts{margin-top:10px}.hy-nps .show-texts.hide{display:none}.hy-nps .eval-img-i .eval-text-i.active{margin-top:8px}.hy-nps .eval-img-i .eval-text-i.active .eval-desc{line-height:22px;font-size:14px;font-weight:500}.hy-nps .eval-img-i .eval-text-i{margin-top:8px}.hy-nps .show-tags{display:flex;flex-wrap:wrap;justify-content:space-between;align-content:flex-start;margin-top:16px;margin-bottom:-10px}.hy-nps .eval-tag-i{width:calc(50% - 5px);padding:9px 11px;box-sizing:border-box;margin-bottom:10px;border:1px solid;border-radius:4px;font-size:14px;line-height:22px;word-break:break-all}.inject-3-mode .hy-nps .eval-tag-i{padding:4px 10px;font-size:12px;line-height:20px}.hy-nps .rich-text{text-align:center}.hy-nps .item-view{height:42px;line-height:42px}.hy-nps .adaptive-tag{justify-content:normal}.hy-nps .adaptive-tag .eval-tag-i{flex:0 1 auto;width:auto;max-width:100%;margin-right:10px}.hy-nps .eval-area{width:100%;height:100px;border-radius:4px;padding:10px;line-height:24px;font-size:16px;text-align:left;box-sizing:border-box;margin-top:16px}',""]),t.Z=r},9839:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval0.svg"},8645:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval0_checked.svg"},2686:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval1.svg"},3956:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval1_checked.svg"},782:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval2.svg"},114:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval2_checked.svg"},2046:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval3.svg"},5863:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval3_checked.svg"},3161:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval4.svg"},9933:function(e,t,i){"use strict";e.exports=i.p+"static/img/eval4_checked.svg"},3391:function(e,t,i){"use strict";e.exports=i.p+"static/img/hanyi-logo-grey.svg"},7044:function(e,t,i){"use strict";e.exports=i.p+"static/img/icon-hy-close.svg"},9505:function(e,t,i){"use strict";e.exports=i.p+"static/img/icon.svg"},2610:function(e,t,i){"use strict";e.exports=i.p+"static/img/icon_active.svg"},9002:function(e,t,i){"use strict";e.exports=i.p+"static/img/icon_ckecked.svg"},617:function(e,t,i){"use strict";e.exports=i.p+"static/img/like.svg"},7116:function(e,t,i){"use strict";e.exports=i.p+"static/img/like_active.svg"},7517:function(e,t,i){"use strict";e.exports=i.p+"static/img/loading.svg"},9819:function(e,t,i){"use strict";e.exports=i.p+"static/img/lynkco-logo-grey.svg"},6774:function(e,t,i){"use strict";e.exports=i.p+"static/img/star.svg"},8755:function(e,t,i){"use strict";e.exports=i.p+"static/img/star_active.svg"},3010:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAfhJREFUSEu9lc2LjmEUxn/XciKfGRIrCx/RLEhJPooNIwvZSD62FjZqdqzYKSX/AAtJ2SLJQpSippnykdUoLHyGErG4dHSet9sz78x7m7zO5nl6znWu69znPs85otJsLwbuJXyLpDc1oaoBBcb2LuBG4ndLulkT+08FbM+V9LkU/kPA9nJgGfBK0ssS2OsEtg8Bm4Fnks43sW2BTcDCdI6XIrZXAuPpG5L0vCFJ8hPAIHAdGGlO0hZYAmwoMn8g6UNBtCDeJX0svu0DTiV5YM9Jutj1BHmZUaahBDyRNDHdZdo+CRwD3if5pSnvoMgqyjQn7+JnD4EVwEHgqaRrbWx1F9W0ZDdM/wVsh0i0ZmPfJb2bSca2VwPzM/YHMCrbe4HonsZeA2OS4llttjcCR4F4Njb2XwT6W6LqGswQ2P8u6paY7XXAorzszliYArsU2AlMSGr2RQc66QS21wPbgdnAfUl3evzJh4H9wCfgSntPtIddDLptSf4VuC2pmaCxdGaFmKTw/TbbO4AjwLwUuSzpVuPvCNgeAPYAa4AguCvpUUEUKzOmZtjpcmXmrjiQIg8lnZkkkNlsBYLoRUmevrXA8Qy8IOlxWTrbw8CqHJBXuwok0YCkb+26255WIGMHJb0tY6vbtEagWzP8jUDsh5EkOSvpS82/9wuCtNpJOeVXKgAAAABJRU5ErkJggg=="}},o={};function a(e){var t=o[e];return void 0!==t||(t=o[e]={id:e,loaded:!1,exports:{}},r[e].call(t.exports,t,t.exports,a),t.loaded=!0),t.exports}function s(e,t){var i,r,o,s=t[0],l=t[1],u=t[2],c=0;if(s.some((function(e){return 0!==n[e]}))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);u&&(o=u(a))}for(e&&e(t);c<s.length;c++)r=s[c],a.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return a.O(o)}a.m=r,a.amdD=function(){throw new Error("define cannot be used indirect")},e=[],a.O=function(t,i,n,r){if(!i){for(var o=1/0,s=0;s<e.length;s++){i=e[s][0],n=e[s][1],r=e[s][2];for(var l,u=!0,c=0;c<i.length;c++)(!1&r||r<=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[c])}))?i.splice(c--,1):(u=!1,r<o&&(o=r));u&&(e.splice(s--,1),void 0!==(l=n()))&&(t=l)}return t}r=r||0;for(s=e.length;0<s&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[i,n,r]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,i){return a.f[i](e,t),t}),[]))},a.u=function(e){return"static/js/"+({468:"pages-popup",759:"pages-bridge",769:"pages-index"}[e]||e)+"_0.1.108.js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},i="survey:",a.l=function(e,n,r,o){if(t[e])t[e].push(n);else{var s,l;if(void 0!==r)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==i+r){s=h;break}}function d(i,n){s.onerror=s.onload=null,clearTimeout(p);var r=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),i)return i(n)}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",i+r),s.src=e),t[e]=[n];var p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.p="./",a.b=document.baseURI||self.location.href,n={826:0},a.f.j=function(e,t){var i,r,o=a.o(n,e)?n[e]:void 0;0!==o&&(o?t.push(o[2]):(i=new Promise((function(t,i){o=n[e]=[t,i]})),t.push(o[2]=i),t=a.p+a.u(e),r=new Error,a.l(t,(function(t){var i;a.o(n,e)&&(0!==(o=n[e])&&(n[e]=void 0),o)&&(i=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,r.message="Loading chunk "+e+" failed.\n("+i+": "+t+")",r.name="ChunkLoadError",r.type=i,r.request=t,o[1](r))}),"chunk-"+e,e)))},a.O.j=function(e){return 0===n[e]},(l=self.webpackChunksurvey=self.webpackChunksurvey||[]).forEach(s.bind(null,0)),l.push=s.bind(null,l.push.bind(l));var l=a.O(void 0,[998],(function(){return a(4432)}));a.O(l)}();